{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport React, { Children, cloneElement, createElement } from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport WithPermissions from '../auth/WithPermissions';\nvar defaultAuthParams = {\n  route: 'dashboard'\n};\n\nvar RoutesWithLayout = function (props) {\n  var catchAll = props.catchAll,\n      children = props.children,\n      customRoutes = props.customRoutes,\n      dashboard = props.dashboard,\n      title = props.title;\n  var childrenAsArray = React.Children.toArray(children);\n  var firstChild = childrenAsArray.length > 0 ? childrenAsArray[0] : null;\n  return React.createElement(Switch, null, customRoutes && customRoutes.map(function (route, key) {\n    return cloneElement(route, {\n      key: key\n    });\n  }), Children.map(children, function (child) {\n    return React.createElement(Route, {\n      key: child.props.name,\n      path: \"/\" + child.props.name,\n      render: function (props) {\n        return cloneElement(child, __assign({\n          // The context prop instruct the Resource component to\n          // render itself as a standard component\n          intent: 'route'\n        }, props));\n      }\n    });\n  }), dashboard ? React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    render: function (routeProps) {\n      return React.createElement(WithPermissions, __assign({\n        authParams: defaultAuthParams,\n        component: dashboard\n      }, routeProps));\n    }\n  }) : firstChild ? React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    render: function () {\n      return React.createElement(Redirect, {\n        to: \"/\" + firstChild.props.name\n      });\n    }\n  }) : null, React.createElement(Route, {\n    render: function (routeProps) {\n      return createElement(catchAll, __assign(__assign({}, routeProps), {\n        title: title\n      }));\n    }\n  }));\n};\n\nexport default RoutesWithLayout;","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","React","Children","cloneElement","createElement","Redirect","Route","Switch","WithPermissions","defaultAuthParams","route","RoutesWithLayout","props","catchAll","children","customRoutes","dashboard","title","childrenAsArray","toArray","firstChild","map","key","child","name","path","render","intent","exact","routeProps","authParams","component","to"],"sources":["/home/lightsong/workspace/freact/frontend/node_modules/ra-core/esm/core/RoutesWithLayout.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { Children, cloneElement, createElement } from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport WithPermissions from '../auth/WithPermissions';\nvar defaultAuthParams = { route: 'dashboard' };\nvar RoutesWithLayout = function (props) {\n    var catchAll = props.catchAll, children = props.children, customRoutes = props.customRoutes, dashboard = props.dashboard, title = props.title;\n    var childrenAsArray = React.Children.toArray(children);\n    var firstChild = childrenAsArray.length > 0\n        ? childrenAsArray[0]\n        : null;\n    return (React.createElement(Switch, null,\n        customRoutes &&\n            customRoutes.map(function (route, key) { return cloneElement(route, { key: key }); }),\n        Children.map(children, function (child) { return (React.createElement(Route, { key: child.props.name, path: \"/\" + child.props.name, render: function (props) {\n                return cloneElement(child, __assign({ \n                    // The context prop instruct the Resource component to\n                    // render itself as a standard component\n                    intent: 'route' }, props));\n            } })); }),\n        dashboard ? (React.createElement(Route, { exact: true, path: \"/\", render: function (routeProps) { return (React.createElement(WithPermissions, __assign({ authParams: defaultAuthParams, component: dashboard }, routeProps))); } })) : firstChild ? (React.createElement(Route, { exact: true, path: \"/\", render: function () { return React.createElement(Redirect, { to: \"/\" + firstChild.props.name }); } })) : null,\n        React.createElement(Route, { render: function (routeProps) {\n                return createElement(catchAll, __assign(__assign({}, routeProps), { title: title }));\n            } })));\n};\nexport default RoutesWithLayout;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}