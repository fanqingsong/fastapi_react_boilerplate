{"ast":null,"code":"import * as React from 'react';\nimport { Children, isValidElement, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { useListContext, useResourceContext, useTranslate } from 'ra-core';\nimport { Checkbox, TableCell, TableHead, TableRow } from '@material-ui/core';\nimport classnames from 'classnames';\nimport DatagridHeaderCell from './DatagridHeaderCell';\n/**\n * The default Datagrid Header component.\n *\n * Renders select all checkbox as well as column header buttons used for sorting.\n */\n\nexport var DatagridHeader = function (props) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _a = props.hasExpand,\n      hasExpand = _a === void 0 ? false : _a,\n      _b = props.hasBulkActions,\n      hasBulkActions = _b === void 0 ? false : _b,\n      isRowSelectable = props.isRowSelectable;\n  var resource = useResourceContext(props);\n  var translate = useTranslate();\n\n  var _c = useListContext(props),\n      currentSort = _c.currentSort,\n      data = _c.data,\n      ids = _c.ids,\n      onSelect = _c.onSelect,\n      selectedIds = _c.selectedIds,\n      setSort = _c.setSort;\n\n  var updateSortCallback = useCallback(function (event) {\n    event.stopPropagation();\n    var newField = event.currentTarget.dataset.field;\n    var newOrder = currentSort.field === newField ? currentSort.order === 'ASC' ? 'DESC' : 'ASC' : event.currentTarget.dataset.order;\n    setSort(newField, newOrder);\n  }, [currentSort.field, currentSort.order, setSort]);\n  var updateSort = setSort ? updateSortCallback : null;\n  var handleSelectAll = useCallback(function (event) {\n    onSelect(event.target.checked ? ids.filter(function (id) {\n      return isRowSelectable ? isRowSelectable(data[id]) : true;\n    }).concat(selectedIds.filter(function (id) {\n      return !ids.includes(id);\n    })) : []);\n  }, [data, ids, onSelect, isRowSelectable, selectedIds]);\n  var selectableIds = isRowSelectable ? ids.filter(function (id) {\n    return isRowSelectable(data[id]);\n  }) : ids;\n  return React.createElement(TableHead, {\n    className: classnames(className, classes.thead)\n  }, React.createElement(TableRow, {\n    className: classnames(classes.row, classes.headerRow)\n  }, hasExpand && React.createElement(TableCell, {\n    padding: \"none\",\n    className: classnames(classes.headerCell, classes.expandHeader)\n  }), hasBulkActions && selectedIds && React.createElement(TableCell, {\n    padding: \"checkbox\",\n    className: classes.headerCell\n  }, React.createElement(Checkbox, {\n    \"aria-label\": translate('ra.action.select_all', {\n      _: 'Select all'\n    }),\n    className: \"select-all\",\n    color: \"primary\",\n    checked: selectedIds.length > 0 && selectableIds.length > 0 && selectableIds.every(function (id) {\n      return selectedIds.includes(id);\n    }),\n    onChange: handleSelectAll\n  })), Children.map(children, function (field, index) {\n    return isValidElement(field) ? React.createElement(DatagridHeaderCell, {\n      className: classes.headerCell,\n      currentSort: currentSort,\n      field: field,\n      isSorting: currentSort.field === (field.props.sortBy || field.props.source),\n      key: field.props.source || index,\n      resource: resource,\n      updateSort: updateSort\n    }) : null;\n  })));\n};\nDatagridHeader.propTypes = {\n  children: PropTypes.node,\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  currentSort: PropTypes.exact({\n    field: PropTypes.string,\n    order: PropTypes.string\n  }),\n  data: PropTypes.any,\n  hasExpand: PropTypes.bool,\n  hasBulkActions: PropTypes.bool,\n  ids: PropTypes.arrayOf(PropTypes.any),\n  isRowSelectable: PropTypes.func,\n  isRowExpandable: PropTypes.func,\n  onSelect: PropTypes.func,\n  onToggleItem: PropTypes.func,\n  resource: PropTypes.string,\n  selectedIds: PropTypes.arrayOf(PropTypes.any),\n  setSort: PropTypes.func\n};\nDatagridHeader.displayName = 'DatagridHeader';","map":{"version":3,"names":["React","Children","isValidElement","useCallback","PropTypes","useListContext","useResourceContext","useTranslate","Checkbox","TableCell","TableHead","TableRow","classnames","DatagridHeaderCell","DatagridHeader","props","children","classes","className","_a","hasExpand","_b","hasBulkActions","isRowSelectable","resource","translate","_c","currentSort","data","ids","onSelect","selectedIds","setSort","updateSortCallback","event","stopPropagation","newField","currentTarget","dataset","field","newOrder","order","updateSort","handleSelectAll","target","checked","filter","id","concat","includes","selectableIds","createElement","thead","row","headerRow","padding","headerCell","expandHeader","_","color","length","every","onChange","map","index","isSorting","sortBy","source","key","propTypes","node","object","string","exact","any","bool","arrayOf","func","isRowExpandable","onToggleItem","displayName"],"sources":["/app/node_modules/ra-ui-materialui/esm/list/datagrid/DatagridHeader.js"],"sourcesContent":["import * as React from 'react';\nimport { Children, isValidElement, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { useListContext, useResourceContext, useTranslate, } from 'ra-core';\nimport { Checkbox, TableCell, TableHead, TableRow } from '@material-ui/core';\nimport classnames from 'classnames';\nimport DatagridHeaderCell from './DatagridHeaderCell';\n/**\n * The default Datagrid Header component.\n *\n * Renders select all checkbox as well as column header buttons used for sorting.\n */\nexport var DatagridHeader = function (props) {\n    var children = props.children, classes = props.classes, className = props.className, _a = props.hasExpand, hasExpand = _a === void 0 ? false : _a, _b = props.hasBulkActions, hasBulkActions = _b === void 0 ? false : _b, isRowSelectable = props.isRowSelectable;\n    var resource = useResourceContext(props);\n    var translate = useTranslate();\n    var _c = useListContext(props), currentSort = _c.currentSort, data = _c.data, ids = _c.ids, onSelect = _c.onSelect, selectedIds = _c.selectedIds, setSort = _c.setSort;\n    var updateSortCallback = useCallback(function (event) {\n        event.stopPropagation();\n        var newField = event.currentTarget.dataset.field;\n        var newOrder = currentSort.field === newField\n            ? currentSort.order === 'ASC'\n                ? 'DESC'\n                : 'ASC'\n            : event.currentTarget.dataset.order;\n        setSort(newField, newOrder);\n    }, [currentSort.field, currentSort.order, setSort]);\n    var updateSort = setSort ? updateSortCallback : null;\n    var handleSelectAll = useCallback(function (event) {\n        onSelect(event.target.checked\n            ? ids\n                .filter(function (id) {\n                return isRowSelectable ? isRowSelectable(data[id]) : true;\n            })\n                .concat(selectedIds.filter(function (id) { return !ids.includes(id); }))\n            : []);\n    }, [data, ids, onSelect, isRowSelectable, selectedIds]);\n    var selectableIds = isRowSelectable\n        ? ids.filter(function (id) { return isRowSelectable(data[id]); })\n        : ids;\n    return (React.createElement(TableHead, { className: classnames(className, classes.thead) },\n        React.createElement(TableRow, { className: classnames(classes.row, classes.headerRow) },\n            hasExpand && (React.createElement(TableCell, { padding: \"none\", className: classnames(classes.headerCell, classes.expandHeader) })),\n            hasBulkActions && selectedIds && (React.createElement(TableCell, { padding: \"checkbox\", className: classes.headerCell },\n                React.createElement(Checkbox, { \"aria-label\": translate('ra.action.select_all', {\n                        _: 'Select all',\n                    }), className: \"select-all\", color: \"primary\", checked: selectedIds.length > 0 &&\n                        selectableIds.length > 0 &&\n                        selectableIds.every(function (id) {\n                            return selectedIds.includes(id);\n                        }), onChange: handleSelectAll }))),\n            Children.map(children, function (field, index) {\n                return isValidElement(field) ? (React.createElement(DatagridHeaderCell, { className: classes.headerCell, currentSort: currentSort, field: field, isSorting: currentSort.field ===\n                        (field.props.sortBy ||\n                            field.props.source), key: field.props.source || index, resource: resource, updateSort: updateSort })) : null;\n            }))));\n};\nDatagridHeader.propTypes = {\n    children: PropTypes.node,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    currentSort: PropTypes.exact({\n        field: PropTypes.string,\n        order: PropTypes.string,\n    }),\n    data: PropTypes.any,\n    hasExpand: PropTypes.bool,\n    hasBulkActions: PropTypes.bool,\n    ids: PropTypes.arrayOf(PropTypes.any),\n    isRowSelectable: PropTypes.func,\n    isRowExpandable: PropTypes.func,\n    onSelect: PropTypes.func,\n    onToggleItem: PropTypes.func,\n    resource: PropTypes.string,\n    selectedIds: PropTypes.arrayOf(PropTypes.any),\n    setSort: PropTypes.func,\n};\nDatagridHeader.displayName = 'DatagridHeader';\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}