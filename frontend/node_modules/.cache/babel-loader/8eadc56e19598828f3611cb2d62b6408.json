{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { createElement, useRef, useEffect, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { Card, Avatar } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport LockIcon from '@material-ui/icons/Lock';\nimport { useHistory } from 'react-router-dom';\nimport { useCheckAuth } from 'ra-core';\nimport defaultTheme from '../defaultTheme';\nimport { createMuiTheme } from '../layout';\nimport DefaultNotification from '../layout/Notification';\nimport DefaultLoginForm from './LoginForm';\n/**\n * A standalone login page, to serve as authentication gate to the admin\n *\n * Expects the user to enter a login and a password, which will be checked\n * by the `authProvider.login()` method. Redirects to the root page (/)\n * upon success, otherwise displays an authentication error message.\n *\n * Copy and adapt this component to implement your own login logic\n * (e.g. to authenticate via email or facebook or anything else).\n *\n * @example\n *     import MyLoginPage from './MyLoginPage';\n *     const App = () => (\n *         <Admin loginPage={MyLoginPage} authProvider={authProvider}>\n *             ...\n *        </Admin>\n *     );\n */\n\nvar Login = function (props) {\n  var theme = props.theme,\n      rest = __rest(props, [\"theme\"]);\n\n  var muiTheme = useMemo(function () {\n    return createMuiTheme(theme);\n  }, [theme]);\n  return React.createElement(ThemeProvider, {\n    theme: muiTheme\n  }, React.createElement(LoginView, __assign({}, rest)));\n};\n\nLogin.propTypes = {\n  backgroundImage: PropTypes.string,\n  children: PropTypes.node,\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  theme: PropTypes.object,\n  staticContext: PropTypes.object\n};\nLogin.defaultProps = {\n  theme: defaultTheme,\n  children: React.createElement(DefaultLoginForm, null),\n  notification: DefaultNotification\n};\nexport default Login;\nvar useStyles = makeStyles(function (theme) {\n  return {\n    main: {\n      display: 'flex',\n      flexDirection: 'column',\n      minHeight: '100vh',\n      height: '1px',\n      alignItems: 'center',\n      justifyContent: 'flex-start',\n      backgroundRepeat: 'no-repeat',\n      backgroundSize: 'cover',\n      backgroundImage: 'radial-gradient(circle at 50% 14em, #313264 0%, #00023b 60%, #00023b 100%)'\n    },\n    card: {\n      minWidth: 300,\n      marginTop: '6em'\n    },\n    avatar: {\n      margin: '1em',\n      display: 'flex',\n      justifyContent: 'center'\n    },\n    icon: {\n      backgroundColor: theme.palette.secondary[500]\n    }\n  };\n}, {\n  name: 'RaLogin'\n});\n\nvar LoginView = function (props) {\n  var title = props.title,\n      classesOverride = props.classes,\n      className = props.className,\n      children = props.children,\n      notification = props.notification,\n      staticContext = props.staticContext,\n      backgroundImage = props.backgroundImage,\n      rest = __rest(props, [\"title\", \"classes\", \"className\", \"children\", \"notification\", \"staticContext\", \"backgroundImage\"]);\n\n  var containerRef = useRef();\n  var classes = useStyles(props);\n  var checkAuth = useCheckAuth();\n  var history = useHistory();\n  useEffect(function () {\n    checkAuth({}, false).then(function () {\n      // already authenticated, redirect to the home page\n      history.push('/');\n    }).catch(function () {// not authenticated, stay on the login page\n    });\n  }, [checkAuth, history]);\n  var backgroundImageLoaded = false;\n\n  var updateBackgroundImage = function () {\n    if (!backgroundImageLoaded && containerRef.current) {\n      containerRef.current.style.backgroundImage = \"url(\" + backgroundImage + \")\";\n      backgroundImageLoaded = true;\n    }\n  }; // Load background image asynchronously to speed up time to interactive\n\n\n  var lazyLoadBackgroundImage = function () {\n    if (backgroundImage) {\n      var img = new Image();\n      img.onload = updateBackgroundImage;\n      img.src = backgroundImage;\n    }\n  };\n\n  useEffect(function () {\n    if (!backgroundImageLoaded) {\n      lazyLoadBackgroundImage();\n    }\n  });\n  return React.createElement(\"div\", __assign({\n    className: classnames(classes.main, className)\n  }, rest, {\n    ref: containerRef\n  }), React.createElement(Card, {\n    className: classes.card\n  }, React.createElement(\"div\", {\n    className: classes.avatar\n  }, React.createElement(Avatar, {\n    className: classes.icon\n  }, React.createElement(LockIcon, null))), children), notification ? createElement(notification) : null);\n};","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","React","createElement","useRef","useEffect","useMemo","PropTypes","classnames","Card","Avatar","makeStyles","ThemeProvider","LockIcon","useHistory","useCheckAuth","defaultTheme","createMuiTheme","DefaultNotification","DefaultLoginForm","Login","props","theme","rest","muiTheme","LoginView","propTypes","backgroundImage","string","children","node","classes","object","className","staticContext","defaultProps","notification","useStyles","main","display","flexDirection","minHeight","height","alignItems","justifyContent","backgroundRepeat","backgroundSize","card","minWidth","marginTop","avatar","margin","icon","backgroundColor","palette","secondary","name","title","classesOverride","containerRef","checkAuth","history","then","push","catch","backgroundImageLoaded","updateBackgroundImage","current","style","lazyLoadBackgroundImage","img","Image","onload","src","ref"],"sources":["/app/node_modules/ra-ui-materialui/esm/auth/Login.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { createElement, useRef, useEffect, useMemo, } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { Card, Avatar } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport LockIcon from '@material-ui/icons/Lock';\nimport { useHistory } from 'react-router-dom';\nimport { useCheckAuth } from 'ra-core';\nimport defaultTheme from '../defaultTheme';\nimport { createMuiTheme } from '../layout';\nimport DefaultNotification from '../layout/Notification';\nimport DefaultLoginForm from './LoginForm';\n/**\n * A standalone login page, to serve as authentication gate to the admin\n *\n * Expects the user to enter a login and a password, which will be checked\n * by the `authProvider.login()` method. Redirects to the root page (/)\n * upon success, otherwise displays an authentication error message.\n *\n * Copy and adapt this component to implement your own login logic\n * (e.g. to authenticate via email or facebook or anything else).\n *\n * @example\n *     import MyLoginPage from './MyLoginPage';\n *     const App = () => (\n *         <Admin loginPage={MyLoginPage} authProvider={authProvider}>\n *             ...\n *        </Admin>\n *     );\n */\nvar Login = function (props) {\n    var theme = props.theme, rest = __rest(props, [\"theme\"]);\n    var muiTheme = useMemo(function () { return createMuiTheme(theme); }, [theme]);\n    return (React.createElement(ThemeProvider, { theme: muiTheme },\n        React.createElement(LoginView, __assign({}, rest))));\n};\nLogin.propTypes = {\n    backgroundImage: PropTypes.string,\n    children: PropTypes.node,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    theme: PropTypes.object,\n    staticContext: PropTypes.object,\n};\nLogin.defaultProps = {\n    theme: defaultTheme,\n    children: React.createElement(DefaultLoginForm, null),\n    notification: DefaultNotification,\n};\nexport default Login;\nvar useStyles = makeStyles(function (theme) { return ({\n    main: {\n        display: 'flex',\n        flexDirection: 'column',\n        minHeight: '100vh',\n        height: '1px',\n        alignItems: 'center',\n        justifyContent: 'flex-start',\n        backgroundRepeat: 'no-repeat',\n        backgroundSize: 'cover',\n        backgroundImage: 'radial-gradient(circle at 50% 14em, #313264 0%, #00023b 60%, #00023b 100%)',\n    },\n    card: {\n        minWidth: 300,\n        marginTop: '6em',\n    },\n    avatar: {\n        margin: '1em',\n        display: 'flex',\n        justifyContent: 'center',\n    },\n    icon: {\n        backgroundColor: theme.palette.secondary[500],\n    },\n}); }, { name: 'RaLogin' });\nvar LoginView = function (props) {\n    var title = props.title, classesOverride = props.classes, className = props.className, children = props.children, notification = props.notification, staticContext = props.staticContext, backgroundImage = props.backgroundImage, rest = __rest(props, [\"title\", \"classes\", \"className\", \"children\", \"notification\", \"staticContext\", \"backgroundImage\"]);\n    var containerRef = useRef();\n    var classes = useStyles(props);\n    var checkAuth = useCheckAuth();\n    var history = useHistory();\n    useEffect(function () {\n        checkAuth({}, false)\n            .then(function () {\n            // already authenticated, redirect to the home page\n            history.push('/');\n        })\n            .catch(function () {\n            // not authenticated, stay on the login page\n        });\n    }, [checkAuth, history]);\n    var backgroundImageLoaded = false;\n    var updateBackgroundImage = function () {\n        if (!backgroundImageLoaded && containerRef.current) {\n            containerRef.current.style.backgroundImage = \"url(\" + backgroundImage + \")\";\n            backgroundImageLoaded = true;\n        }\n    };\n    // Load background image asynchronously to speed up time to interactive\n    var lazyLoadBackgroundImage = function () {\n        if (backgroundImage) {\n            var img = new Image();\n            img.onload = updateBackgroundImage;\n            img.src = backgroundImage;\n        }\n    };\n    useEffect(function () {\n        if (!backgroundImageLoaded) {\n            lazyLoadBackgroundImage();\n        }\n    });\n    return (React.createElement(\"div\", __assign({ className: classnames(classes.main, className) }, rest, { ref: containerRef }),\n        React.createElement(Card, { className: classes.card },\n            React.createElement(\"div\", { className: classes.avatar },\n                React.createElement(Avatar, { className: classes.icon },\n                    React.createElement(LockIcon, null))),\n            children),\n        notification ? createElement(notification) : null));\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}