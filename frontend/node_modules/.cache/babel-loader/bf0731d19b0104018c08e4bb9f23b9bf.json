{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function () {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n\n        case 7:\n          op = _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n\n            _.ops.push(op);\n\n            break;\n          }\n\n          if (t[2]) _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n      }\n\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { take, takeEvery, put, race } from 'redux-saga/effects';\nimport { showNotification } from '../actions/notificationActions';\nimport { UNDOABLE, UNDO, COMPLETE, startOptimisticMode, stopOptimisticMode } from '../actions/undoActions';\nimport { refreshView } from '../actions/uiActions';\nexport function handleUndoRace(undoableAction) {\n  var action, _a, onSuccess, onFailure, metaWithoutSideEffects, complete;\n\n  return __generator(this, function (_b) {\n    switch (_b.label) {\n      case 0:\n        action = undoableAction.payload.action;\n        _a = action.meta, onSuccess = _a.onSuccess, onFailure = _a.onFailure, metaWithoutSideEffects = __rest(_a, [\"onSuccess\", \"onFailure\"]);\n        return [4\n        /*yield*/\n        , put(startOptimisticMode())];\n\n      case 1:\n        _b.sent(); // dispatch action in optimistic mode (no fetch), with success side effects\n\n\n        return [4\n        /*yield*/\n        , put(__assign(__assign({}, action), {\n          type: action.type + \"_OPTIMISTIC\",\n          meta: __assign(__assign(__assign({}, metaWithoutSideEffects), onSuccess), {\n            optimistic: true\n          })\n        }))];\n\n      case 2:\n        // dispatch action in optimistic mode (no fetch), with success side effects\n        _b.sent();\n\n        return [4\n        /*yield*/\n        , race({\n          undo: take(UNDO),\n          complete: take(COMPLETE)\n        })];\n\n      case 3:\n        complete = _b.sent().complete;\n        return [4\n        /*yield*/\n        , put(stopOptimisticMode())];\n\n      case 4:\n        _b.sent();\n\n        if (!complete) return [3\n        /*break*/\n        , 6]; // if not cancelled, redispatch the action, this time immediate, and without success side effect\n\n        return [4\n        /*yield*/\n        , put(__assign(__assign({}, action), {\n          meta: __assign(__assign({}, metaWithoutSideEffects), {\n            onSuccess: {\n              refresh: true\n            },\n            onFailure: __assign(__assign({}, onFailure), {\n              refresh: true\n            })\n          })\n        }))];\n\n      case 5:\n        // if not cancelled, redispatch the action, this time immediate, and without success side effect\n        _b.sent();\n\n        return [3\n        /*break*/\n        , 9];\n\n      case 6:\n        return [4\n        /*yield*/\n        , put(showNotification('ra.notification.canceled'))];\n\n      case 7:\n        _b.sent();\n\n        return [4\n        /*yield*/\n        , put(refreshView())];\n\n      case 8:\n        _b.sent();\n\n        _b.label = 9;\n\n      case 9:\n        return [2\n        /*return*/\n        ];\n    }\n  });\n}\nexport default function watchUndoable() {\n  return __generator(this, function (_a) {\n    switch (_a.label) {\n      case 0:\n        // @ts-ignore\n        return [4\n        /*yield*/\n        , takeEvery(UNDOABLE, handleUndoRace)];\n\n      case 1:\n        // @ts-ignore\n        _a.sent();\n\n        return [2\n        /*return*/\n        ];\n    }\n  });\n}","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__generator","thisArg","body","_","label","sent","trys","ops","f","y","g","next","verb","Symbol","iterator","v","step","op","TypeError","done","value","pop","push","e","__rest","indexOf","getOwnPropertySymbols","propertyIsEnumerable","take","takeEvery","put","race","showNotification","UNDOABLE","UNDO","COMPLETE","startOptimisticMode","stopOptimisticMode","refreshView","handleUndoRace","undoableAction","action","_a","onSuccess","onFailure","metaWithoutSideEffects","complete","_b","payload","meta","type","optimistic","undo","refresh","watchUndoable"],"sources":["/home/lightsong/workspace/freact/frontend/node_modules/ra-core/esm/sideEffect/undo.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { take, takeEvery, put, race } from 'redux-saga/effects';\nimport { showNotification } from '../actions/notificationActions';\nimport { UNDOABLE, UNDO, COMPLETE, startOptimisticMode, stopOptimisticMode, } from '../actions/undoActions';\nimport { refreshView } from '../actions/uiActions';\nexport function handleUndoRace(undoableAction) {\n    var action, _a, onSuccess, onFailure, metaWithoutSideEffects, complete;\n    return __generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                action = undoableAction.payload.action;\n                _a = action.meta, onSuccess = _a.onSuccess, onFailure = _a.onFailure, metaWithoutSideEffects = __rest(_a, [\"onSuccess\", \"onFailure\"]);\n                return [4 /*yield*/, put(startOptimisticMode())];\n            case 1:\n                _b.sent();\n                // dispatch action in optimistic mode (no fetch), with success side effects\n                return [4 /*yield*/, put(__assign(__assign({}, action), { type: action.type + \"_OPTIMISTIC\", meta: __assign(__assign(__assign({}, metaWithoutSideEffects), onSuccess), { optimistic: true }) }))];\n            case 2:\n                // dispatch action in optimistic mode (no fetch), with success side effects\n                _b.sent();\n                return [4 /*yield*/, race({\n                        undo: take(UNDO),\n                        complete: take(COMPLETE),\n                    })];\n            case 3:\n                complete = (_b.sent()).complete;\n                return [4 /*yield*/, put(stopOptimisticMode())];\n            case 4:\n                _b.sent();\n                if (!complete) return [3 /*break*/, 6];\n                // if not cancelled, redispatch the action, this time immediate, and without success side effect\n                return [4 /*yield*/, put(__assign(__assign({}, action), { meta: __assign(__assign({}, metaWithoutSideEffects), { onSuccess: { refresh: true }, onFailure: __assign(__assign({}, onFailure), { refresh: true }) }) }))];\n            case 5:\n                // if not cancelled, redispatch the action, this time immediate, and without success side effect\n                _b.sent();\n                return [3 /*break*/, 9];\n            case 6: return [4 /*yield*/, put(showNotification('ra.notification.canceled'))];\n            case 7:\n                _b.sent();\n                return [4 /*yield*/, put(refreshView())];\n            case 8:\n                _b.sent();\n                _b.label = 9;\n            case 9: return [2 /*return*/];\n        }\n    });\n}\nexport default function watchUndoable() {\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: \n            // @ts-ignore\n            return [4 /*yield*/, takeEvery(UNDOABLE, handleUndoRace)];\n            case 1:\n                // @ts-ignore\n                _a.sent();\n                return [2 /*return*/];\n        }\n    });\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}