{"ast":null,"code":"import _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { isForwardRef } from 'react-is';\nimport computeScrollIntoView from 'compute-scroll-into-view'; // istanbul ignore next\n\nvar statusDiv = typeof document === 'undefined' ? null : document.getElementById('a11y-status-message');\nvar statuses = [];\n/**\n * @param {String} status the status message\n */\n\nfunction setStatus(status) {\n  var isSameAsLast = statuses[statuses.length - 1] === status;\n\n  if (isSameAsLast) {\n    statuses = [].concat(statuses, [status]);\n  } else {\n    statuses = [status];\n  }\n\n  var div = getStatusDiv(); // Remove previous children\n\n  while (div.lastChild) {\n    div.removeChild(div.firstChild);\n  }\n\n  statuses.filter(Boolean).forEach(function (statusItem, index) {\n    div.appendChild(getStatusChildDiv(statusItem, index));\n  });\n}\n/**\n * @param {String} status the status message\n * @param {Number} index the index\n * @return {HTMLElement} the child node\n */\n\n\nfunction getStatusChildDiv(status, index) {\n  var display = index === statuses.length - 1 ? 'block' : 'none';\n  var childDiv = document.createElement('div');\n  childDiv.style.display = display;\n  childDiv.textContent = status;\n  return childDiv;\n}\n/**\n * Get the status node or create it if it does not already exist\n * @return {HTMLElement} the status node\n */\n\n\nfunction getStatusDiv() {\n  if (statusDiv) {\n    return statusDiv;\n  }\n\n  statusDiv = document.createElement('div');\n  statusDiv.setAttribute('id', 'a11y-status-message');\n  statusDiv.setAttribute('role', 'status');\n  statusDiv.setAttribute('aria-live', 'polite');\n  statusDiv.setAttribute('aria-relevant', 'additions text');\n  Object.assign(statusDiv.style, {\n    border: '0',\n    clip: 'rect(0 0 0 0)',\n    height: '1px',\n    margin: '-1px',\n    overflow: 'hidden',\n    padding: '0',\n    position: 'absolute',\n    width: '1px'\n  });\n  document.body.appendChild(statusDiv);\n  return statusDiv;\n}\n\nvar unknown = process.env.NODE_ENV !== \"production\" ? '__autocomplete_unknown__' : 0;\nvar mouseUp = process.env.NODE_ENV !== \"production\" ? '__autocomplete_mouseup__' : 1;\nvar itemMouseEnter = process.env.NODE_ENV !== \"production\" ? '__autocomplete_item_mouseenter__' : 2;\nvar keyDownArrowUp = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_arrow_up__' : 3;\nvar keyDownArrowDown = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_arrow_down__' : 4;\nvar keyDownEscape = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_escape__' : 5;\nvar keyDownEnter = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_enter__' : 6;\nvar keyDownHome = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_home__' : 7;\nvar keyDownEnd = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_enter__' : 8;\nvar clickItem = process.env.NODE_ENV !== \"production\" ? '__autocomplete_click_item__' : 9;\nvar blurInput = process.env.NODE_ENV !== \"production\" ? '__autocomplete_blur_input__' : 10;\nvar changeInput = process.env.NODE_ENV !== \"production\" ? '__autocomplete_change_input__' : 11;\nvar keyDownSpaceButton = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_space_button__' : 12;\nvar clickButton = process.env.NODE_ENV !== \"production\" ? '__autocomplete_click_button__' : 13;\nvar blurButton = process.env.NODE_ENV !== \"production\" ? '__autocomplete_blur_button__' : 14;\nvar controlledPropUpdatedSelectedItem = process.env.NODE_ENV !== \"production\" ? '__autocomplete_controlled_prop_updated_selected_item__' : 15;\nvar touchEnd = process.env.NODE_ENV !== \"production\" ? '__autocomplete_touchend__' : 16;\nvar stateChangeTypes = /*#__PURE__*/Object.freeze({\n  unknown: unknown,\n  mouseUp: mouseUp,\n  itemMouseEnter: itemMouseEnter,\n  keyDownArrowUp: keyDownArrowUp,\n  keyDownArrowDown: keyDownArrowDown,\n  keyDownEscape: keyDownEscape,\n  keyDownEnter: keyDownEnter,\n  keyDownHome: keyDownHome,\n  keyDownEnd: keyDownEnd,\n  clickItem: clickItem,\n  blurInput: blurInput,\n  changeInput: changeInput,\n  keyDownSpaceButton: keyDownSpaceButton,\n  clickButton: clickButton,\n  blurButton: blurButton,\n  controlledPropUpdatedSelectedItem: controlledPropUpdatedSelectedItem,\n  touchEnd: touchEnd\n});\nvar idCounter = 0;\n/**\n * Accepts a parameter and returns it if it's a function\n * or a noop function if it's not. This allows us to\n * accept a callback, but not worry about it if it's not\n * passed.\n * @param {Function} cb the callback\n * @return {Function} a function\n */\n\nfunction cbToCb(cb) {\n  return typeof cb === 'function' ? cb : noop;\n}\n\nfunction noop() {}\n/**\n * Scroll node into view if necessary\n * @param {HTMLElement} node the element that should scroll into view\n * @param {HTMLElement} menuNode the menu element of the component\n */\n\n\nfunction scrollIntoView(node, menuNode) {\n  if (node === null) {\n    return;\n  }\n\n  var actions = computeScrollIntoView(node, {\n    boundary: menuNode,\n    block: 'nearest',\n    scrollMode: 'if-needed'\n  });\n  actions.forEach(function (_ref) {\n    var el = _ref.el,\n        top = _ref.top,\n        left = _ref.left;\n    el.scrollTop = top;\n    el.scrollLeft = left;\n  });\n}\n/**\n * @param {HTMLElement} parent the parent node\n * @param {HTMLElement} child the child node\n * @return {Boolean} whether the parent is the child or the child is in the parent\n */\n\n\nfunction isOrContainsNode(parent, child) {\n  return parent === child || parent.contains && parent.contains(child);\n}\n/**\n * Simple debounce implementation. Will call the given\n * function once after the time given has passed since\n * it was last called.\n * @param {Function} fn the function to call after the time\n * @param {Number} time the time to wait\n * @return {Function} the debounced function\n */\n\n\nfunction debounce(fn, time) {\n  var timeoutId;\n\n  function cancel() {\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n    }\n  }\n\n  function wrapper() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    cancel();\n    timeoutId = setTimeout(function () {\n      timeoutId = null;\n      fn.apply(void 0, args);\n    }, time);\n  }\n\n  wrapper.cancel = cancel;\n  return wrapper;\n}\n/**\n * This is intended to be used to compose event handlers.\n * They are executed in order until one of them sets\n * `event.preventDownshiftDefault = true`.\n * @param {...Function} fns the event handler functions\n * @return {Function} the event handler to add to an element\n */\n\n\nfunction callAllEventHandlers() {\n  for (var _len2 = arguments.length, fns = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    fns[_key2] = arguments[_key2];\n  }\n\n  return function (event) {\n    for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n      args[_key3 - 1] = arguments[_key3];\n    }\n\n    return fns.some(function (fn) {\n      if (fn) {\n        fn.apply(void 0, [event].concat(args));\n      }\n\n      return event.preventDownshiftDefault || event.hasOwnProperty('nativeEvent') && event.nativeEvent.preventDownshiftDefault;\n    });\n  };\n}\n/**\n * This return a function that will call all the given functions with\n * the arguments with which it's called. It does a null-check before\n * attempting to call the functions and can take any number of functions.\n * @param {...Function} fns the functions to call\n * @return {Function} the function that calls all the functions\n */\n\n\nfunction callAll() {\n  for (var _len4 = arguments.length, fns = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n    fns[_key4] = arguments[_key4];\n  }\n\n  return function () {\n    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n      args[_key5] = arguments[_key5];\n    }\n\n    fns.forEach(function (fn) {\n      if (fn) {\n        fn.apply(void 0, args);\n      }\n    });\n  };\n}\n/**\n * This generates a unique ID for an instance of Downshift\n * @return {String} the unique ID\n */\n\n\nfunction generateId() {\n  return String(idCounter++);\n}\n/**\n * Resets idCounter to 0. Used for SSR.\n */\n\n\nfunction resetIdCounter() {\n  idCounter = 0;\n}\n/**\n * @param {Object} param the downshift state and other relevant properties\n * @return {String} the a11y status message\n */\n\n\nfunction getA11yStatusMessage(_ref2) {\n  var isOpen = _ref2.isOpen,\n      selectedItem = _ref2.selectedItem,\n      resultCount = _ref2.resultCount,\n      previousResultCount = _ref2.previousResultCount,\n      itemToString = _ref2.itemToString;\n\n  if (!isOpen) {\n    return selectedItem ? itemToString(selectedItem) : '';\n  }\n\n  if (!resultCount) {\n    return 'No results are available.';\n  }\n\n  if (resultCount !== previousResultCount) {\n    return resultCount + \" result\" + (resultCount === 1 ? ' is' : 's are') + \" available, use up and down arrow keys to navigate. Press Enter key to select.\";\n  }\n\n  return '';\n}\n/**\n * Takes an argument and if it's an array, returns the first item in the array\n * otherwise returns the argument\n * @param {*} arg the maybe-array\n * @param {*} defaultValue the value if arg is falsey not defined\n * @return {*} the arg or it's first item\n */\n\n\nfunction unwrapArray(arg, defaultValue) {\n  arg = Array.isArray(arg) ?\n  /* istanbul ignore next (preact) */\n  arg[0] : arg;\n\n  if (!arg && defaultValue) {\n    return defaultValue;\n  } else {\n    return arg;\n  }\n}\n/**\n * @param {Object} element (P)react element\n * @return {Boolean} whether it's a DOM element\n */\n\n\nfunction isDOMElement(element) {\n  // then we assume this is react\n  return typeof element.type === 'string';\n}\n/**\n * @param {Object} element (P)react element\n * @return {Object} the props\n */\n\n\nfunction getElementProps(element) {\n  return element.props;\n}\n/**\n * Throws a helpful error message for required properties. Useful\n * to be used as a default in destructuring or object params.\n * @param {String} fnName the function name\n * @param {String} propName the prop name\n */\n\n\nfunction requiredProp(fnName, propName) {\n  // eslint-disable-next-line no-console\n  console.error(\"The property \\\"\" + propName + \"\\\" is required in \\\"\" + fnName + \"\\\"\");\n}\n\nvar stateKeys = ['highlightedIndex', 'inputValue', 'isOpen', 'selectedItem', 'type'];\n/**\n * @param {Object} state the state object\n * @return {Object} state that is relevant to downshift\n */\n\nfunction pickState(state) {\n  if (state === void 0) {\n    state = {};\n  }\n\n  var result = {};\n  stateKeys.forEach(function (k) {\n    if (state.hasOwnProperty(k)) {\n      result[k] = state[k];\n    }\n  });\n  return result;\n}\n/**\n * Normalizes the 'key' property of a KeyboardEvent in IE/Edge\n * @param {Object} event a keyboardEvent object\n * @return {String} keyboard key\n */\n\n\nfunction normalizeArrowKey(event) {\n  var key = event.key,\n      keyCode = event.keyCode;\n  /* istanbul ignore next (ie) */\n\n  if (keyCode >= 37 && keyCode <= 40 && key.indexOf('Arrow') !== 0) {\n    return \"Arrow\" + key;\n  }\n\n  return key;\n}\n/**\n * Simple check if the value passed is object literal\n * @param {*} obj any things\n * @return {Boolean} whether it's object literal\n */\n\n\nfunction isPlainObject(obj) {\n  return Object.prototype.toString.call(obj) === '[object Object]';\n}\n/**\n * Returns the new index in the list, in a circular way. If next value is out of bonds from the total,\n * it will wrap to either 0 or itemCount - 1.\n *\n * @param {number} moveAmount Number of positions to move. Negative to move backwards, positive forwards.\n * @param {number} baseIndex The initial position to move from.\n * @param {number} itemCount The total number of items.\n * @returns {number} The new index after the move.\n */\n\n\nfunction getNextWrappingIndex(moveAmount, baseIndex, itemCount) {\n  var itemsLastIndex = itemCount - 1;\n\n  if (typeof baseIndex !== 'number' || baseIndex < 0 || baseIndex >= itemCount) {\n    baseIndex = moveAmount > 0 ? -1 : itemsLastIndex + 1;\n  }\n\n  var newIndex = baseIndex + moveAmount;\n\n  if (newIndex < 0) {\n    newIndex = itemsLastIndex;\n  } else if (newIndex > itemsLastIndex) {\n    newIndex = 0;\n  }\n\n  return newIndex;\n}\n\nvar Downshift = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Downshift, _Component);\n\n  function Downshift(_props) {\n    var _this = _Component.call(this, _props) || this;\n\n    _this.id = _this.props.id || \"downshift-\" + generateId();\n    _this.menuId = _this.props.menuId || _this.id + \"-menu\";\n    _this.labelId = _this.props.labelId || _this.id + \"-label\";\n    _this.inputId = _this.props.inputId || _this.id + \"-input\";\n\n    _this.getItemId = _this.props.getItemId || function (index) {\n      return _this.id + \"-item-\" + index;\n    };\n\n    _this.input = null;\n    _this.items = [];\n    _this.itemCount = null;\n    _this.previousResultCount = 0;\n    _this.timeoutIds = [];\n\n    _this.internalSetTimeout = function (fn, time) {\n      var id = setTimeout(function () {\n        _this.timeoutIds = _this.timeoutIds.filter(function (i) {\n          return i !== id;\n        });\n        fn();\n      }, time);\n\n      _this.timeoutIds.push(id);\n    };\n\n    _this.setItemCount = function (count) {\n      _this.itemCount = count;\n    };\n\n    _this.unsetItemCount = function () {\n      _this.itemCount = null;\n    };\n\n    _this.setHighlightedIndex = function (highlightedIndex, otherStateToSet) {\n      if (highlightedIndex === void 0) {\n        highlightedIndex = _this.props.defaultHighlightedIndex;\n      }\n\n      if (otherStateToSet === void 0) {\n        otherStateToSet = {};\n      }\n\n      otherStateToSet = pickState(otherStateToSet);\n\n      _this.internalSetState(_extends({\n        highlightedIndex: highlightedIndex\n      }, otherStateToSet));\n    };\n\n    _this.clearSelection = function (cb) {\n      _this.internalSetState({\n        selectedItem: null,\n        inputValue: '',\n        highlightedIndex: _this.props.defaultHighlightedIndex,\n        isOpen: _this.props.defaultIsOpen\n      }, cb);\n    };\n\n    _this.selectItem = function (item, otherStateToSet, cb) {\n      otherStateToSet = pickState(otherStateToSet);\n\n      _this.internalSetState(_extends({\n        isOpen: _this.props.defaultIsOpen,\n        highlightedIndex: _this.props.defaultHighlightedIndex,\n        selectedItem: item,\n        inputValue: _this.props.itemToString(item)\n      }, otherStateToSet), cb);\n    };\n\n    _this.selectItemAtIndex = function (itemIndex, otherStateToSet, cb) {\n      var item = _this.items[itemIndex];\n\n      if (item == null) {\n        return;\n      }\n\n      _this.selectItem(item, otherStateToSet, cb);\n    };\n\n    _this.selectHighlightedItem = function (otherStateToSet, cb) {\n      return _this.selectItemAtIndex(_this.getState().highlightedIndex, otherStateToSet, cb);\n    };\n\n    _this.internalSetState = function (stateToSet, cb) {\n      var isItemSelected, onChangeArg;\n      var onStateChangeArg = {};\n      var isStateToSetFunction = typeof stateToSet === 'function'; // we want to call `onInputValueChange` before the `setState` call\n      // so someone controlling the `inputValue` state gets notified of\n      // the input change as soon as possible. This avoids issues with\n      // preserving the cursor position.\n      // See https://github.com/downshift-js/downshift/issues/217 for more info.\n\n      if (!isStateToSetFunction && stateToSet.hasOwnProperty('inputValue')) {\n        _this.props.onInputValueChange(stateToSet.inputValue, _extends({}, _this.getStateAndHelpers(), stateToSet));\n      }\n\n      return _this.setState(function (state) {\n        state = _this.getState(state);\n        var newStateToSet = isStateToSetFunction ? stateToSet(state) : stateToSet; // Your own function that could modify the state that will be set.\n\n        newStateToSet = _this.props.stateReducer(state, newStateToSet); // checks if an item is selected, regardless of if it's different from\n        // what was selected before\n        // used to determine if onSelect and onChange callbacks should be called\n\n        isItemSelected = newStateToSet.hasOwnProperty('selectedItem'); // this keeps track of the object we want to call with setState\n\n        var nextState = {}; // this is just used to tell whether the state changed\n\n        var nextFullState = {}; // we need to call on change if the outside world is controlling any of our state\n        // and we're trying to update that state. OR if the selection has changed and we're\n        // trying to update the selection\n\n        if (isItemSelected && newStateToSet.selectedItem !== state.selectedItem) {\n          onChangeArg = newStateToSet.selectedItem;\n        }\n\n        newStateToSet.type = newStateToSet.type || unknown;\n        Object.keys(newStateToSet).forEach(function (key) {\n          // onStateChangeArg should only have the state that is\n          // actually changing\n          if (state[key] !== newStateToSet[key]) {\n            onStateChangeArg[key] = newStateToSet[key];\n          } // the type is useful for the onStateChangeArg\n          // but we don't actually want to set it in internal state.\n          // this is an undocumented feature for now... Not all internalSetState\n          // calls support it and I'm not certain we want them to yet.\n          // But it enables users controlling the isOpen state to know when\n          // the isOpen state changes due to mouseup events which is quite handy.\n\n\n          if (key === 'type') {\n            return;\n          }\n\n          nextFullState[key] = newStateToSet[key]; // if it's coming from props, then we don't care to set it internally\n\n          if (!_this.isControlledProp(key)) {\n            nextState[key] = newStateToSet[key];\n          }\n        }); // if stateToSet is a function, then we weren't able to call onInputValueChange\n        // earlier, so we'll call it now that we know what the inputValue state will be.\n\n        if (isStateToSetFunction && newStateToSet.hasOwnProperty('inputValue')) {\n          _this.props.onInputValueChange(newStateToSet.inputValue, _extends({}, _this.getStateAndHelpers(), newStateToSet));\n        }\n\n        return nextState;\n      }, function () {\n        // call the provided callback if it's a function\n        cbToCb(cb)(); // only call the onStateChange and onChange callbacks if\n        // we have relevant information to pass them.\n\n        var hasMoreStateThanType = Object.keys(onStateChangeArg).length > 1;\n\n        if (hasMoreStateThanType) {\n          _this.props.onStateChange(onStateChangeArg, _this.getStateAndHelpers());\n        }\n\n        if (isItemSelected) {\n          _this.props.onSelect(stateToSet.selectedItem, _this.getStateAndHelpers());\n        }\n\n        if (onChangeArg !== undefined) {\n          _this.props.onChange(onChangeArg, _this.getStateAndHelpers());\n        } // this is currently undocumented and therefore subject to change\n        // We'll try to not break it, but just be warned.\n\n\n        _this.props.onUserAction(onStateChangeArg, _this.getStateAndHelpers());\n      });\n    };\n\n    _this.rootRef = function (node) {\n      return _this._rootNode = node;\n    };\n\n    _this.getRootProps = function (_temp, _temp2) {\n      var _extends2;\n\n      var _ref = _temp === void 0 ? {} : _temp,\n          _ref$refKey = _ref.refKey,\n          refKey = _ref$refKey === void 0 ? 'ref' : _ref$refKey,\n          rest = _objectWithoutPropertiesLoose(_ref, [\"refKey\"]);\n\n      var _ref2 = _temp2 === void 0 ? {} : _temp2,\n          _ref2$suppressRefErro = _ref2.suppressRefError,\n          suppressRefError = _ref2$suppressRefErro === void 0 ? false : _ref2$suppressRefErro; // this is used in the render to know whether the user has called getRootProps.\n      // It uses that to know whether to apply the props automatically\n\n\n      _this.getRootProps.called = true;\n      _this.getRootProps.refKey = refKey;\n      _this.getRootProps.suppressRefError = suppressRefError;\n\n      var _this$getState = _this.getState(),\n          isOpen = _this$getState.isOpen;\n\n      return _extends((_extends2 = {}, _extends2[refKey] = _this.rootRef, _extends2.role = 'combobox', _extends2['aria-expanded'] = isOpen, _extends2['aria-haspopup'] = 'listbox', _extends2['aria-owns'] = isOpen ? _this.menuId : null, _extends2['aria-labelledby'] = _this.labelId, _extends2), rest);\n    };\n\n    _this.keyDownHandlers = {\n      ArrowDown: function ArrowDown(event) {\n        var _this2 = this;\n\n        event.preventDefault();\n\n        if (this.getState().isOpen) {\n          var amount = event.shiftKey ? 5 : 1;\n          this.moveHighlightedIndex(amount, {\n            type: keyDownArrowDown\n          });\n        } else {\n          this.internalSetState({\n            isOpen: true,\n            type: keyDownArrowDown\n          }, function () {\n            var itemCount = _this2.getItemCount();\n\n            if (itemCount > 0) {\n              _this2.setHighlightedIndex(getNextWrappingIndex(1, _this2.getState().highlightedIndex, itemCount), {\n                type: keyDownArrowDown\n              });\n            }\n          });\n        }\n      },\n      ArrowUp: function ArrowUp(event) {\n        var _this3 = this;\n\n        event.preventDefault();\n\n        if (this.getState().isOpen) {\n          var amount = event.shiftKey ? -5 : -1;\n          this.moveHighlightedIndex(amount, {\n            type: keyDownArrowUp\n          });\n        } else {\n          this.internalSetState({\n            isOpen: true,\n            type: keyDownArrowUp\n          }, function () {\n            var itemCount = _this3.getItemCount();\n\n            if (itemCount > 0) {\n              _this3.setHighlightedIndex(getNextWrappingIndex(-1, _this3.getState().highlightedIndex, itemCount), {\n                type: keyDownArrowDown\n              });\n            }\n          });\n        }\n      },\n      Enter: function Enter(event) {\n        var _this$getState2 = this.getState(),\n            isOpen = _this$getState2.isOpen,\n            highlightedIndex = _this$getState2.highlightedIndex;\n\n        if (isOpen && highlightedIndex != null) {\n          event.preventDefault();\n          var item = this.items[highlightedIndex];\n          var itemNode = this.getItemNodeFromIndex(highlightedIndex);\n\n          if (item == null || itemNode && itemNode.hasAttribute('disabled')) {\n            return;\n          }\n\n          this.selectHighlightedItem({\n            type: keyDownEnter\n          });\n        }\n      },\n      Escape: function Escape(event) {\n        event.preventDefault();\n        this.reset({\n          type: keyDownEscape\n        });\n      }\n    };\n    _this.buttonKeyDownHandlers = _extends({}, _this.keyDownHandlers, {\n      ' ': function _(event) {\n        event.preventDefault();\n        this.toggleMenu({\n          type: keyDownSpaceButton\n        });\n      }\n    });\n    _this.inputKeyDownHandlers = _extends({}, _this.keyDownHandlers, {\n      Home: function Home(event) {\n        this.highlightFirstOrLastIndex(event, true, {\n          type: keyDownHome\n        });\n      },\n      End: function End(event) {\n        this.highlightFirstOrLastIndex(event, false, {\n          type: keyDownEnd\n        });\n      }\n    });\n\n    _this.getToggleButtonProps = function (_temp3) {\n      var _ref3 = _temp3 === void 0 ? {} : _temp3,\n          onClick = _ref3.onClick,\n          onPress = _ref3.onPress,\n          onKeyDown = _ref3.onKeyDown,\n          onKeyUp = _ref3.onKeyUp,\n          onBlur = _ref3.onBlur,\n          rest = _objectWithoutPropertiesLoose(_ref3, [\"onClick\", \"onPress\", \"onKeyDown\", \"onKeyUp\", \"onBlur\"]);\n\n      var _this$getState3 = _this.getState(),\n          isOpen = _this$getState3.isOpen;\n\n      var enabledEventHandlers = {\n        onClick: callAllEventHandlers(onClick, _this.buttonHandleClick),\n        onKeyDown: callAllEventHandlers(onKeyDown, _this.buttonHandleKeyDown),\n        onKeyUp: callAllEventHandlers(onKeyUp, _this.buttonHandleKeyUp),\n        onBlur: callAllEventHandlers(onBlur, _this.buttonHandleBlur)\n      };\n      var eventHandlers = rest.disabled ? {} : enabledEventHandlers;\n      return _extends({\n        type: 'button',\n        role: 'button',\n        'aria-label': isOpen ? 'close menu' : 'open menu',\n        'aria-haspopup': true,\n        'data-toggle': true\n      }, eventHandlers, rest);\n    };\n\n    _this.buttonHandleKeyUp = function (event) {\n      // Prevent click event from emitting in Firefox\n      event.preventDefault();\n    };\n\n    _this.buttonHandleKeyDown = function (event) {\n      var key = normalizeArrowKey(event);\n\n      if (_this.buttonKeyDownHandlers[key]) {\n        _this.buttonKeyDownHandlers[key].call(_assertThisInitialized(_this), event);\n      }\n    };\n\n    _this.buttonHandleClick = function (event) {\n      event.preventDefault(); // handle odd case for Safari and Firefox which\n      // don't give the button the focus properly.\n\n      /* istanbul ignore if (can't reasonably test this) */\n\n      if (_this.props.environment.document.activeElement === _this.props.environment.document.body) {\n        event.target.focus();\n      } // to simplify testing components that use downshift, we'll not wrap this in a setTimeout\n      // if the NODE_ENV is test. With the proper build system, this should be dead code eliminated\n      // when building for production and should therefore have no impact on production code.\n\n\n      if (process.env.NODE_ENV === 'test') {\n        _this.toggleMenu({\n          type: clickButton\n        });\n      } else {\n        // Ensure that toggle of menu occurs after the potential blur event in iOS\n        _this.internalSetTimeout(function () {\n          return _this.toggleMenu({\n            type: clickButton\n          });\n        });\n      }\n    };\n\n    _this.buttonHandleBlur = function (event) {\n      var blurTarget = event.target; // Save blur target for comparison with activeElement later\n      // Need setTimeout, so that when the user presses Tab, the activeElement is the next focused element, not body element\n\n      _this.internalSetTimeout(function () {\n        if (!_this.isMouseDown && (_this.props.environment.document.activeElement == null || _this.props.environment.document.activeElement.id !== _this.inputId) && _this.props.environment.document.activeElement !== blurTarget // Do nothing if we refocus the same element again (to solve issue in Safari on iOS)\n        ) {\n          _this.reset({\n            type: blurButton\n          });\n        }\n      });\n    };\n\n    _this.getLabelProps = function (props) {\n      return _extends({\n        htmlFor: _this.inputId,\n        id: _this.labelId\n      }, props);\n    };\n\n    _this.getInputProps = function (_temp4) {\n      var _ref4 = _temp4 === void 0 ? {} : _temp4,\n          onKeyDown = _ref4.onKeyDown,\n          onBlur = _ref4.onBlur,\n          onChange = _ref4.onChange,\n          onInput = _ref4.onInput,\n          onChangeText = _ref4.onChangeText,\n          rest = _objectWithoutPropertiesLoose(_ref4, [\"onKeyDown\", \"onBlur\", \"onChange\", \"onInput\", \"onChangeText\"]);\n\n      var onChangeKey;\n      var eventHandlers = {};\n      /* istanbul ignore next (preact) */\n\n      onChangeKey = 'onChange';\n\n      var _this$getState4 = _this.getState(),\n          inputValue = _this$getState4.inputValue,\n          isOpen = _this$getState4.isOpen,\n          highlightedIndex = _this$getState4.highlightedIndex;\n\n      if (!rest.disabled) {\n        var _eventHandlers;\n\n        eventHandlers = (_eventHandlers = {}, _eventHandlers[onChangeKey] = callAllEventHandlers(onChange, onInput, _this.inputHandleChange), _eventHandlers.onKeyDown = callAllEventHandlers(onKeyDown, _this.inputHandleKeyDown), _eventHandlers.onBlur = callAllEventHandlers(onBlur, _this.inputHandleBlur), _eventHandlers);\n      }\n      /* istanbul ignore if (react-native) */\n\n\n      return _extends({\n        'aria-autocomplete': 'list',\n        'aria-activedescendant': isOpen && typeof highlightedIndex === 'number' && highlightedIndex >= 0 ? _this.getItemId(highlightedIndex) : null,\n        'aria-controls': isOpen ? _this.menuId : null,\n        'aria-labelledby': _this.labelId,\n        // https://developer.mozilla.org/en-US/docs/Web/Security/Securing_your_site/Turning_off_form_autocompletion\n        // revert back since autocomplete=\"nope\" is ignored on latest Chrome and Opera\n        autoComplete: 'off',\n        value: inputValue,\n        id: _this.inputId\n      }, eventHandlers, rest);\n    };\n\n    _this.inputHandleKeyDown = function (event) {\n      var key = normalizeArrowKey(event);\n\n      if (key && _this.inputKeyDownHandlers[key]) {\n        _this.inputKeyDownHandlers[key].call(_assertThisInitialized(_this), event);\n      }\n    };\n\n    _this.inputHandleChange = function (event) {\n      _this.internalSetState({\n        type: changeInput,\n        isOpen: true,\n        inputValue: event.target.value,\n        highlightedIndex: _this.props.defaultHighlightedIndex\n      });\n    };\n\n    _this.inputHandleTextChange\n    /* istanbul ignore next (react-native) */\n    = function (text) {\n      _this.internalSetState({\n        type: changeInput,\n        isOpen: true,\n        inputValue: text,\n        highlightedIndex: _this.props.defaultHighlightedIndex\n      });\n    };\n\n    _this.inputHandleBlur = function () {\n      // Need setTimeout, so that when the user presses Tab, the activeElement is the next focused element, not the body element\n      _this.internalSetTimeout(function () {\n        var downshiftButtonIsActive = _this.props.environment.document && !!_this.props.environment.document.activeElement && !!_this.props.environment.document.activeElement.dataset && _this.props.environment.document.activeElement.dataset.toggle && _this._rootNode && _this._rootNode.contains(_this.props.environment.document.activeElement);\n\n        if (!_this.isMouseDown && !downshiftButtonIsActive) {\n          _this.reset({\n            type: blurInput\n          });\n        }\n      });\n    };\n\n    _this.menuRef = function (node) {\n      _this._menuNode = node;\n    };\n\n    _this.getMenuProps = function (_temp5, _temp6) {\n      var _extends3;\n\n      var _ref5 = _temp5 === void 0 ? {} : _temp5,\n          _ref5$refKey = _ref5.refKey,\n          refKey = _ref5$refKey === void 0 ? 'ref' : _ref5$refKey,\n          ref = _ref5.ref,\n          props = _objectWithoutPropertiesLoose(_ref5, [\"refKey\", \"ref\"]);\n\n      var _ref6 = _temp6 === void 0 ? {} : _temp6,\n          _ref6$suppressRefErro = _ref6.suppressRefError,\n          suppressRefError = _ref6$suppressRefErro === void 0 ? false : _ref6$suppressRefErro;\n\n      _this.getMenuProps.called = true;\n      _this.getMenuProps.refKey = refKey;\n      _this.getMenuProps.suppressRefError = suppressRefError;\n      return _extends((_extends3 = {}, _extends3[refKey] = callAll(ref, _this.menuRef), _extends3.role = 'listbox', _extends3['aria-labelledby'] = props && props['aria-label'] ? null : _this.labelId, _extends3.id = _this.menuId, _extends3), props);\n    };\n\n    _this.getItemProps = function (_temp7) {\n      var _enabledEventHandlers;\n\n      var _ref7 = _temp7 === void 0 ? {} : _temp7,\n          onMouseMove = _ref7.onMouseMove,\n          onMouseDown = _ref7.onMouseDown,\n          onClick = _ref7.onClick,\n          onPress = _ref7.onPress,\n          index = _ref7.index,\n          _ref7$item = _ref7.item,\n          item = _ref7$item === void 0 ? process.env.NODE_ENV === 'production' ?\n      /* istanbul ignore next */\n      undefined : requiredProp('getItemProps', 'item') : _ref7$item,\n          rest = _objectWithoutPropertiesLoose(_ref7, [\"onMouseMove\", \"onMouseDown\", \"onClick\", \"onPress\", \"index\", \"item\"]);\n\n      if (index === undefined) {\n        _this.items.push(item);\n\n        index = _this.items.indexOf(item);\n      } else {\n        _this.items[index] = item;\n      }\n\n      var onSelectKey = 'onClick';\n      var customClickHandler = onClick;\n      var enabledEventHandlers = (_enabledEventHandlers = {\n        // onMouseMove is used over onMouseEnter here. onMouseMove\n        // is only triggered on actual mouse movement while onMouseEnter\n        // can fire on DOM changes, interrupting keyboard navigation\n        onMouseMove: callAllEventHandlers(onMouseMove, function () {\n          if (index === _this.getState().highlightedIndex) {\n            return;\n          }\n\n          _this.setHighlightedIndex(index, {\n            type: itemMouseEnter\n          }); // We never want to manually scroll when changing state based\n          // on `onMouseMove` because we will be moving the element out\n          // from under the user which is currently scrolling/moving the\n          // cursor\n\n\n          _this.avoidScrolling = true;\n\n          _this.internalSetTimeout(function () {\n            return _this.avoidScrolling = false;\n          }, 250);\n        }),\n        onMouseDown: callAllEventHandlers(onMouseDown, function (event) {\n          // This prevents the activeElement from being changed\n          // to the item so it can remain with the current activeElement\n          // which is a more common use case.\n          event.preventDefault();\n        })\n      }, _enabledEventHandlers[onSelectKey] = callAllEventHandlers(customClickHandler, function () {\n        _this.selectItemAtIndex(index, {\n          type: clickItem\n        });\n      }), _enabledEventHandlers); // Passing down the onMouseDown handler to prevent redirect\n      // of the activeElement if clicking on disabled items\n\n      var eventHandlers = rest.disabled ? {\n        onMouseDown: enabledEventHandlers.onMouseDown\n      } : enabledEventHandlers;\n      return _extends({\n        id: _this.getItemId(index),\n        role: 'option',\n        'aria-selected': _this.getState().highlightedIndex === index\n      }, eventHandlers, rest);\n    };\n\n    _this.clearItems = function () {\n      _this.items = [];\n    };\n\n    _this.reset = function (otherStateToSet, cb) {\n      if (otherStateToSet === void 0) {\n        otherStateToSet = {};\n      }\n\n      otherStateToSet = pickState(otherStateToSet);\n\n      _this.internalSetState(function (_ref8) {\n        var selectedItem = _ref8.selectedItem;\n        return _extends({\n          isOpen: _this.props.defaultIsOpen,\n          highlightedIndex: _this.props.defaultHighlightedIndex,\n          inputValue: _this.props.itemToString(selectedItem)\n        }, otherStateToSet);\n      }, cb);\n    };\n\n    _this.toggleMenu = function (otherStateToSet, cb) {\n      if (otherStateToSet === void 0) {\n        otherStateToSet = {};\n      }\n\n      otherStateToSet = pickState(otherStateToSet);\n\n      _this.internalSetState(function (_ref9) {\n        var isOpen = _ref9.isOpen;\n        return _extends({\n          isOpen: !isOpen\n        }, isOpen && {\n          highlightedIndex: _this.props.defaultHighlightedIndex\n        }, otherStateToSet);\n      }, function () {\n        var _this$getState5 = _this.getState(),\n            isOpen = _this$getState5.isOpen,\n            highlightedIndex = _this$getState5.highlightedIndex;\n\n        if (isOpen) {\n          if (_this.getItemCount() > 0 && typeof highlightedIndex === 'number') {\n            _this.setHighlightedIndex(highlightedIndex, otherStateToSet);\n          }\n        }\n\n        cbToCb(cb)();\n      });\n    };\n\n    _this.openMenu = function (cb) {\n      _this.internalSetState({\n        isOpen: true\n      }, cb);\n    };\n\n    _this.closeMenu = function (cb) {\n      _this.internalSetState({\n        isOpen: false\n      }, cb);\n    };\n\n    _this.updateStatus = debounce(function () {\n      var state = _this.getState();\n\n      var item = _this.items[state.highlightedIndex];\n\n      var resultCount = _this.getItemCount();\n\n      var status = _this.props.getA11yStatusMessage(_extends({\n        itemToString: _this.props.itemToString,\n        previousResultCount: _this.previousResultCount,\n        resultCount: resultCount,\n        highlightedItem: item\n      }, state));\n\n      _this.previousResultCount = resultCount;\n      setStatus(status);\n    }, 200); // fancy destructuring + defaults + aliases\n    // this basically says each value of state should either be set to\n    // the initial value or the default value if the initial value is not provided\n\n    var _this$props = _this.props,\n        defaultHighlightedIndex = _this$props.defaultHighlightedIndex,\n        _this$props$initialHi = _this$props.initialHighlightedIndex,\n        _highlightedIndex = _this$props$initialHi === void 0 ? defaultHighlightedIndex : _this$props$initialHi,\n        defaultIsOpen = _this$props.defaultIsOpen,\n        _this$props$initialIs = _this$props.initialIsOpen,\n        _isOpen = _this$props$initialIs === void 0 ? defaultIsOpen : _this$props$initialIs,\n        _this$props$initialIn = _this$props.initialInputValue,\n        _inputValue = _this$props$initialIn === void 0 ? '' : _this$props$initialIn,\n        _this$props$initialSe = _this$props.initialSelectedItem,\n        _selectedItem = _this$props$initialSe === void 0 ? null : _this$props$initialSe;\n\n    var _state = _this.getState({\n      highlightedIndex: _highlightedIndex,\n      isOpen: _isOpen,\n      inputValue: _inputValue,\n      selectedItem: _selectedItem\n    });\n\n    if (_state.selectedItem != null && _this.props.initialInputValue === undefined) {\n      _state.inputValue = _this.props.itemToString(_state.selectedItem);\n    }\n\n    _this.state = _state;\n    return _this;\n  }\n\n  var _proto = Downshift.prototype;\n  /**\n   * Clear all running timeouts\n   */\n\n  _proto.internalClearTimeouts = function internalClearTimeouts() {\n    this.timeoutIds.forEach(function (id) {\n      clearTimeout(id);\n    });\n    this.timeoutIds = [];\n  }\n  /**\n   * Gets the state based on internal state or props\n   * If a state value is passed via props, then that\n   * is the value given, otherwise it's retrieved from\n   * stateToMerge\n   *\n   * This will perform a shallow merge of the given state object\n   * with the state coming from props\n   * (for the controlled component scenario)\n   * This is used in state updater functions so they're referencing\n   * the right state regardless of where it comes from.\n   *\n   * @param {Object} stateToMerge defaults to this.state\n   * @return {Object} the state\n   */\n  ;\n\n  _proto.getState = function getState(stateToMerge) {\n    var _this4 = this;\n\n    if (stateToMerge === void 0) {\n      stateToMerge = this.state;\n    }\n\n    return Object.keys(stateToMerge).reduce(function (state, key) {\n      state[key] = _this4.isControlledProp(key) ? _this4.props[key] : stateToMerge[key];\n      return state;\n    }, {});\n  }\n  /**\n   * This determines whether a prop is a \"controlled prop\" meaning it is\n   * state which is controlled by the outside of this component rather\n   * than within this component.\n   * @param {String} key the key to check\n   * @return {Boolean} whether it is a controlled controlled prop\n   */\n  ;\n\n  _proto.isControlledProp = function isControlledProp(key) {\n    return this.props[key] !== undefined;\n  };\n\n  _proto.getItemCount = function getItemCount() {\n    // things read better this way. They're in priority order:\n    // 1. `this.itemCount`\n    // 2. `this.props.itemCount`\n    // 3. `this.items.length`\n    var itemCount = this.items.length;\n\n    if (this.itemCount != null) {\n      itemCount = this.itemCount;\n    } else if (this.props.itemCount !== undefined) {\n      itemCount = this.props.itemCount;\n    }\n\n    return itemCount;\n  };\n\n  _proto.getItemNodeFromIndex = function getItemNodeFromIndex(index) {\n    return this.props.environment.document.getElementById(this.getItemId(index));\n  };\n\n  _proto.scrollHighlightedItemIntoView = function scrollHighlightedItemIntoView() {\n    /* istanbul ignore else (react-native) */\n    {\n      var node = this.getItemNodeFromIndex(this.getState().highlightedIndex);\n      this.props.scrollIntoView(node, this._menuNode);\n    }\n  };\n\n  _proto.moveHighlightedIndex = function moveHighlightedIndex(amount, otherStateToSet) {\n    var itemCount = this.getItemCount();\n\n    if (itemCount > 0) {\n      var nextHighlightedIndex = getNextWrappingIndex(amount, this.getState().highlightedIndex, itemCount);\n      this.setHighlightedIndex(nextHighlightedIndex, otherStateToSet);\n    }\n  };\n\n  _proto.highlightFirstOrLastIndex = function highlightFirstOrLastIndex(event, first, otherStateToSet) {\n    var itemsLastIndex = this.getItemCount() - 1;\n\n    if (itemsLastIndex < 0 || !this.getState().isOpen) {\n      return;\n    }\n\n    event.preventDefault();\n    this.setHighlightedIndex(first ? 0 : itemsLastIndex, otherStateToSet);\n  };\n\n  _proto.getStateAndHelpers = function getStateAndHelpers() {\n    var _this$getState6 = this.getState(),\n        highlightedIndex = _this$getState6.highlightedIndex,\n        inputValue = _this$getState6.inputValue,\n        selectedItem = _this$getState6.selectedItem,\n        isOpen = _this$getState6.isOpen;\n\n    var itemToString = this.props.itemToString;\n    var id = this.id;\n    var getRootProps = this.getRootProps,\n        getToggleButtonProps = this.getToggleButtonProps,\n        getLabelProps = this.getLabelProps,\n        getMenuProps = this.getMenuProps,\n        getInputProps = this.getInputProps,\n        getItemProps = this.getItemProps,\n        openMenu = this.openMenu,\n        closeMenu = this.closeMenu,\n        toggleMenu = this.toggleMenu,\n        selectItem = this.selectItem,\n        selectItemAtIndex = this.selectItemAtIndex,\n        selectHighlightedItem = this.selectHighlightedItem,\n        setHighlightedIndex = this.setHighlightedIndex,\n        clearSelection = this.clearSelection,\n        clearItems = this.clearItems,\n        reset = this.reset,\n        setItemCount = this.setItemCount,\n        unsetItemCount = this.unsetItemCount,\n        setState = this.internalSetState;\n    return {\n      // prop getters\n      getRootProps: getRootProps,\n      getToggleButtonProps: getToggleButtonProps,\n      getLabelProps: getLabelProps,\n      getMenuProps: getMenuProps,\n      getInputProps: getInputProps,\n      getItemProps: getItemProps,\n      // actions\n      reset: reset,\n      openMenu: openMenu,\n      closeMenu: closeMenu,\n      toggleMenu: toggleMenu,\n      selectItem: selectItem,\n      selectItemAtIndex: selectItemAtIndex,\n      selectHighlightedItem: selectHighlightedItem,\n      setHighlightedIndex: setHighlightedIndex,\n      clearSelection: clearSelection,\n      clearItems: clearItems,\n      setItemCount: setItemCount,\n      unsetItemCount: unsetItemCount,\n      setState: setState,\n      // props\n      itemToString: itemToString,\n      // derived\n      id: id,\n      // state\n      highlightedIndex: highlightedIndex,\n      inputValue: inputValue,\n      isOpen: isOpen,\n      selectedItem: selectedItem\n    };\n  } //////////////////////////// ROOT\n  ;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var _this5 = this;\n    /* istanbul ignore if (react-native) */\n\n\n    if (process.env.NODE_ENV !== 'production' && !false && this.getMenuProps.called && !this.getMenuProps.suppressRefError) {\n      validateGetMenuPropsCalledCorrectly(this._menuNode, this.getMenuProps);\n    }\n    /* istanbul ignore if (react-native) */\n\n\n    {\n      var targetWithinDownshift = function (target, checkActiveElement) {\n        if (checkActiveElement === void 0) {\n          checkActiveElement = true;\n        }\n\n        var document = _this5.props.environment.document;\n        return [_this5._rootNode, _this5._menuNode].some(function (contextNode) {\n          return contextNode && (isOrContainsNode(contextNode, target) || checkActiveElement && isOrContainsNode(contextNode, document.activeElement));\n        });\n      }; // this.isMouseDown helps us track whether the mouse is currently held down.\n      // This is useful when the user clicks on an item in the list, but holds the mouse\n      // down long enough for the list to disappear (because the blur event fires on the input)\n      // this.isMouseDown is used in the blur handler on the input to determine whether the blur event should\n      // trigger hiding the menu.\n\n\n      var onMouseDown = function () {\n        _this5.isMouseDown = true;\n      };\n\n      var onMouseUp = function (event) {\n        _this5.isMouseDown = false; // if the target element or the activeElement is within a downshift node\n        // then we don't want to reset downshift\n\n        var contextWithinDownshift = targetWithinDownshift(event.target);\n\n        if (!contextWithinDownshift && _this5.getState().isOpen) {\n          _this5.reset({\n            type: mouseUp\n          }, function () {\n            return _this5.props.onOuterClick(_this5.getStateAndHelpers());\n          });\n        }\n      }; // Touching an element in iOS gives focus and hover states, but touching out of\n      // the element will remove hover, and persist the focus state, resulting in the\n      // blur event not being triggered.\n      // this.isTouchMove helps us track whether the user is tapping or swiping on a touch screen.\n      // If the user taps outside of Downshift, the component should be reset,\n      // but not if the user is swiping\n\n\n      var onTouchStart = function () {\n        _this5.isTouchMove = false;\n      };\n\n      var onTouchMove = function () {\n        _this5.isTouchMove = true;\n      };\n\n      var onTouchEnd = function (event) {\n        var contextWithinDownshift = targetWithinDownshift(event.target, false);\n\n        if (!_this5.isTouchMove && !contextWithinDownshift && _this5.getState().isOpen) {\n          _this5.reset({\n            type: touchEnd\n          }, function () {\n            return _this5.props.onOuterClick(_this5.getStateAndHelpers());\n          });\n        }\n      };\n\n      this.props.environment.addEventListener('mousedown', onMouseDown);\n      this.props.environment.addEventListener('mouseup', onMouseUp);\n      this.props.environment.addEventListener('touchstart', onTouchStart);\n      this.props.environment.addEventListener('touchmove', onTouchMove);\n      this.props.environment.addEventListener('touchend', onTouchEnd);\n\n      this.cleanup = function () {\n        _this5.internalClearTimeouts();\n\n        _this5.updateStatus.cancel();\n\n        _this5.props.environment.removeEventListener('mousedown', onMouseDown);\n\n        _this5.props.environment.removeEventListener('mouseup', onMouseUp);\n\n        _this5.props.environment.removeEventListener('touchstart', onTouchStart);\n\n        _this5.props.environment.removeEventListener('touchmove', onTouchMove);\n\n        _this5.props.environment.removeEventListener('touchend', onTouchEnd);\n      };\n    }\n  };\n\n  _proto.shouldScroll = function shouldScroll(prevState, prevProps) {\n    var _ref10 = this.props.highlightedIndex === undefined ? this.getState() : this.props,\n        currentHighlightedIndex = _ref10.highlightedIndex;\n\n    var _ref11 = prevProps.highlightedIndex === undefined ? prevState : prevProps,\n        prevHighlightedIndex = _ref11.highlightedIndex;\n\n    var scrollWhenOpen = currentHighlightedIndex && this.getState().isOpen && !prevState.isOpen;\n    return scrollWhenOpen || currentHighlightedIndex !== prevHighlightedIndex;\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    if (process.env.NODE_ENV !== 'production') {\n      validateControlledUnchanged(prevProps, this.props);\n      /* istanbul ignore if (react-native) */\n\n      if (this.getMenuProps.called && !this.getMenuProps.suppressRefError) {\n        validateGetMenuPropsCalledCorrectly(this._menuNode, this.getMenuProps);\n      }\n    }\n\n    if (this.isControlledProp('selectedItem') && this.props.selectedItemChanged(prevProps.selectedItem, this.props.selectedItem)) {\n      this.internalSetState({\n        type: controlledPropUpdatedSelectedItem,\n        inputValue: this.props.itemToString(this.props.selectedItem)\n      });\n    }\n\n    if (!this.avoidScrolling && this.shouldScroll(prevState, prevProps)) {\n      this.scrollHighlightedItemIntoView();\n    }\n    /* istanbul ignore else (react-native) */\n\n\n    this.updateStatus();\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.cleanup(); // avoids memory leak\n  };\n\n  _proto.render = function render() {\n    var children = unwrapArray(this.props.children, noop); // because the items are rerendered every time we call the children\n    // we clear this out each render and it will be populated again as\n    // getItemProps is called.\n\n    this.clearItems(); // we reset this so we know whether the user calls getRootProps during\n    // this render. If they do then we don't need to do anything,\n    // if they don't then we need to clone the element they return and\n    // apply the props for them.\n\n    this.getRootProps.called = false;\n    this.getRootProps.refKey = undefined;\n    this.getRootProps.suppressRefError = undefined; // we do something similar for getMenuProps\n\n    this.getMenuProps.called = false;\n    this.getMenuProps.refKey = undefined;\n    this.getMenuProps.suppressRefError = undefined; // we do something similar for getLabelProps\n\n    this.getLabelProps.called = false; // and something similar for getInputProps\n\n    this.getInputProps.called = false;\n    var element = unwrapArray(children(this.getStateAndHelpers()));\n\n    if (!element) {\n      return null;\n    }\n\n    if (this.getRootProps.called || this.props.suppressRefError) {\n      if (process.env.NODE_ENV !== 'production' && !this.getRootProps.suppressRefError && !this.props.suppressRefError) {\n        validateGetRootPropsCalledCorrectly(element, this.getRootProps);\n      }\n\n      return element;\n    } else if (isDOMElement(element)) {\n      // they didn't apply the root props, but we can clone\n      // this and apply the props ourselves\n      return React.cloneElement(element, this.getRootProps(getElementProps(element)));\n    }\n    /* istanbul ignore else */\n\n\n    if (process.env.NODE_ENV !== 'production') {\n      // they didn't apply the root props, but they need to\n      // otherwise we can't query around the autocomplete\n      throw new Error('downshift: If you return a non-DOM element, you must use apply the getRootProps function');\n    }\n    /* istanbul ignore next */\n\n\n    return undefined;\n  };\n\n  return Downshift;\n}(Component);\n\nDownshift.defaultProps = {\n  defaultHighlightedIndex: null,\n  defaultIsOpen: false,\n  getA11yStatusMessage: getA11yStatusMessage,\n  itemToString: function itemToString(i) {\n    if (i == null) {\n      return '';\n    }\n\n    if (process.env.NODE_ENV !== 'production' && isPlainObject(i) && !i.hasOwnProperty('toString')) {\n      // eslint-disable-next-line no-console\n      console.warn('downshift: An object was passed to the default implementation of `itemToString`. You should probably provide your own `itemToString` implementation. Please refer to the `itemToString` API documentation.', 'The object that was passed:', i);\n    }\n\n    return String(i);\n  },\n  onStateChange: noop,\n  onInputValueChange: noop,\n  onUserAction: noop,\n  onChange: noop,\n  onSelect: noop,\n  onOuterClick: noop,\n  selectedItemChanged: function selectedItemChanged(prevItem, item) {\n    return prevItem !== item;\n  },\n  environment: typeof window === 'undefined'\n  /* istanbul ignore next (ssr) */\n  ? {} : window,\n  stateReducer: function stateReducer(state, stateToSet) {\n    return stateToSet;\n  },\n  suppressRefError: false,\n  scrollIntoView: scrollIntoView\n};\nDownshift.stateChangeTypes = stateChangeTypes;\nprocess.env.NODE_ENV !== \"production\" ? Downshift.propTypes = {\n  children: PropTypes.func,\n  defaultHighlightedIndex: PropTypes.number,\n  defaultIsOpen: PropTypes.bool,\n  initialHighlightedIndex: PropTypes.number,\n  initialSelectedItem: PropTypes.any,\n  initialInputValue: PropTypes.string,\n  initialIsOpen: PropTypes.bool,\n  getA11yStatusMessage: PropTypes.func,\n  itemToString: PropTypes.func,\n  onChange: PropTypes.func,\n  onSelect: PropTypes.func,\n  onStateChange: PropTypes.func,\n  onInputValueChange: PropTypes.func,\n  onUserAction: PropTypes.func,\n  onOuterClick: PropTypes.func,\n  selectedItemChanged: PropTypes.func,\n  stateReducer: PropTypes.func,\n  itemCount: PropTypes.number,\n  id: PropTypes.string,\n  environment: PropTypes.shape({\n    addEventListener: PropTypes.func,\n    removeEventListener: PropTypes.func,\n    document: PropTypes.shape({\n      getElementById: PropTypes.func,\n      activeElement: PropTypes.any,\n      body: PropTypes.any\n    })\n  }),\n  suppressRefError: PropTypes.bool,\n  scrollIntoView: PropTypes.func,\n  // things we keep in state for uncontrolled components\n  // but can accept as props for controlled components\n\n  /* eslint-disable react/no-unused-prop-types */\n  selectedItem: PropTypes.any,\n  isOpen: PropTypes.bool,\n  inputValue: PropTypes.string,\n  highlightedIndex: PropTypes.number,\n  labelId: PropTypes.string,\n  inputId: PropTypes.string,\n  menuId: PropTypes.string,\n  getItemId: PropTypes.func\n  /* eslint-enable react/no-unused-prop-types */\n\n} : void 0;\n\nfunction validateGetMenuPropsCalledCorrectly(node, _ref12) {\n  var refKey = _ref12.refKey;\n\n  if (!node) {\n    // eslint-disable-next-line no-console\n    console.error(\"downshift: The ref prop \\\"\" + refKey + \"\\\" from getMenuProps was not applied correctly on your menu element.\");\n  }\n}\n\nfunction validateGetRootPropsCalledCorrectly(element, _ref13) {\n  var refKey = _ref13.refKey;\n  var refKeySpecified = refKey !== 'ref';\n  var isComposite = !isDOMElement(element);\n\n  if (isComposite && !refKeySpecified && !isForwardRef(element)) {\n    // eslint-disable-next-line no-console\n    console.error('downshift: You returned a non-DOM element. You must specify a refKey in getRootProps');\n  } else if (!isComposite && refKeySpecified) {\n    // eslint-disable-next-line no-console\n    console.error(\"downshift: You returned a DOM element. You should not specify a refKey in getRootProps. You specified \\\"\" + refKey + \"\\\"\");\n  }\n\n  if (!isForwardRef(element) && !getElementProps(element)[refKey]) {\n    // eslint-disable-next-line no-console\n    console.error(\"downshift: You must apply the ref prop \\\"\" + refKey + \"\\\" from getRootProps onto your root element.\");\n  }\n}\n\nfunction validateControlledUnchanged(prevProps, nextProps) {\n  var warningDescription = \"This prop should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled Downshift element for the lifetime of the component. More info: https://github.com/downshift-js/downshift#control-props\";\n  ['selectedItem', 'isOpen', 'inputValue', 'highlightedIndex'].forEach(function (propKey) {\n    if (prevProps[propKey] !== undefined && nextProps[propKey] === undefined) {\n      // eslint-disable-next-line no-console\n      console.error(\"downshift: A component has changed the controlled prop \\\"\" + propKey + \"\\\" to be uncontrolled. \" + warningDescription);\n    } else if (prevProps[propKey] === undefined && nextProps[propKey] !== undefined) {\n      // eslint-disable-next-line no-console\n      console.error(\"downshift: A component has changed the uncontrolled prop \\\"\" + propKey + \"\\\" to be controlled. \" + warningDescription);\n    }\n  });\n}\n\nexport default Downshift;\nexport { resetIdCounter };","map":{"version":3,"names":["_objectWithoutPropertiesLoose","_extends","_assertThisInitialized","_inheritsLoose","PropTypes","React","Component","isForwardRef","computeScrollIntoView","statusDiv","document","getElementById","statuses","setStatus","status","isSameAsLast","length","concat","div","getStatusDiv","lastChild","removeChild","firstChild","filter","Boolean","forEach","statusItem","index","appendChild","getStatusChildDiv","display","childDiv","createElement","style","textContent","setAttribute","Object","assign","border","clip","height","margin","overflow","padding","position","width","body","unknown","process","env","NODE_ENV","mouseUp","itemMouseEnter","keyDownArrowUp","keyDownArrowDown","keyDownEscape","keyDownEnter","keyDownHome","keyDownEnd","clickItem","blurInput","changeInput","keyDownSpaceButton","clickButton","blurButton","controlledPropUpdatedSelectedItem","touchEnd","stateChangeTypes","freeze","idCounter","cbToCb","cb","noop","scrollIntoView","node","menuNode","actions","boundary","block","scrollMode","_ref","el","top","left","scrollTop","scrollLeft","isOrContainsNode","parent","child","contains","debounce","fn","time","timeoutId","cancel","clearTimeout","wrapper","_len","arguments","args","Array","_key","setTimeout","apply","callAllEventHandlers","_len2","fns","_key2","event","_len3","_key3","some","preventDownshiftDefault","hasOwnProperty","nativeEvent","callAll","_len4","_key4","_len5","_key5","generateId","String","resetIdCounter","getA11yStatusMessage","_ref2","isOpen","selectedItem","resultCount","previousResultCount","itemToString","unwrapArray","arg","defaultValue","isArray","isDOMElement","element","type","getElementProps","props","requiredProp","fnName","propName","console","error","stateKeys","pickState","state","result","k","normalizeArrowKey","key","keyCode","indexOf","isPlainObject","obj","prototype","toString","call","getNextWrappingIndex","moveAmount","baseIndex","itemCount","itemsLastIndex","newIndex","Downshift","_Component","_props","_this","id","menuId","labelId","inputId","getItemId","input","items","timeoutIds","internalSetTimeout","i","push","setItemCount","count","unsetItemCount","setHighlightedIndex","highlightedIndex","otherStateToSet","defaultHighlightedIndex","internalSetState","clearSelection","inputValue","defaultIsOpen","selectItem","item","selectItemAtIndex","itemIndex","selectHighlightedItem","getState","stateToSet","isItemSelected","onChangeArg","onStateChangeArg","isStateToSetFunction","onInputValueChange","getStateAndHelpers","setState","newStateToSet","stateReducer","nextState","nextFullState","keys","isControlledProp","hasMoreStateThanType","onStateChange","onSelect","undefined","onChange","onUserAction","rootRef","_rootNode","getRootProps","_temp","_temp2","_extends2","_ref$refKey","refKey","rest","_ref2$suppressRefErro","suppressRefError","called","_this$getState","role","keyDownHandlers","ArrowDown","_this2","preventDefault","amount","shiftKey","moveHighlightedIndex","getItemCount","ArrowUp","_this3","Enter","_this$getState2","itemNode","getItemNodeFromIndex","hasAttribute","Escape","reset","buttonKeyDownHandlers","_","toggleMenu","inputKeyDownHandlers","Home","highlightFirstOrLastIndex","End","getToggleButtonProps","_temp3","_ref3","onClick","onPress","onKeyDown","onKeyUp","onBlur","_this$getState3","enabledEventHandlers","buttonHandleClick","buttonHandleKeyDown","buttonHandleKeyUp","buttonHandleBlur","eventHandlers","disabled","environment","activeElement","target","focus","blurTarget","isMouseDown","getLabelProps","htmlFor","getInputProps","_temp4","_ref4","onInput","onChangeText","onChangeKey","_this$getState4","_eventHandlers","inputHandleChange","inputHandleKeyDown","inputHandleBlur","autoComplete","value","inputHandleTextChange","text","downshiftButtonIsActive","dataset","toggle","menuRef","_menuNode","getMenuProps","_temp5","_temp6","_extends3","_ref5","_ref5$refKey","ref","_ref6","_ref6$suppressRefErro","getItemProps","_temp7","_enabledEventHandlers","_ref7","onMouseMove","onMouseDown","_ref7$item","onSelectKey","customClickHandler","avoidScrolling","clearItems","_ref8","_ref9","_this$getState5","openMenu","closeMenu","updateStatus","highlightedItem","_this$props","_this$props$initialHi","initialHighlightedIndex","_highlightedIndex","_this$props$initialIs","initialIsOpen","_isOpen","_this$props$initialIn","initialInputValue","_inputValue","_this$props$initialSe","initialSelectedItem","_selectedItem","_state","_proto","internalClearTimeouts","stateToMerge","_this4","reduce","scrollHighlightedItemIntoView","nextHighlightedIndex","first","_this$getState6","componentDidMount","_this5","validateGetMenuPropsCalledCorrectly","targetWithinDownshift","checkActiveElement","contextNode","onMouseUp","contextWithinDownshift","onOuterClick","onTouchStart","isTouchMove","onTouchMove","onTouchEnd","addEventListener","cleanup","removeEventListener","shouldScroll","prevState","prevProps","_ref10","currentHighlightedIndex","_ref11","prevHighlightedIndex","scrollWhenOpen","componentDidUpdate","validateControlledUnchanged","selectedItemChanged","componentWillUnmount","render","children","validateGetRootPropsCalledCorrectly","cloneElement","Error","defaultProps","warn","prevItem","window","propTypes","func","number","bool","any","string","shape","_ref12","_ref13","refKeySpecified","isComposite","nextProps","warningDescription","propKey"],"sources":["/home/lightsong/workspace/freact/frontend/node_modules/downshift/dist/downshift.esm.js"],"sourcesContent":["import _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { isForwardRef } from 'react-is';\nimport computeScrollIntoView from 'compute-scroll-into-view';\n\n// istanbul ignore next\nvar statusDiv = typeof document === 'undefined' ? null : document.getElementById('a11y-status-message');\nvar statuses = [];\n/**\n * @param {String} status the status message\n */\n\nfunction setStatus(status) {\n  var isSameAsLast = statuses[statuses.length - 1] === status;\n\n  if (isSameAsLast) {\n    statuses = [].concat(statuses, [status]);\n  } else {\n    statuses = [status];\n  }\n\n  var div = getStatusDiv(); // Remove previous children\n\n  while (div.lastChild) {\n    div.removeChild(div.firstChild);\n  }\n\n  statuses.filter(Boolean).forEach(function (statusItem, index) {\n    div.appendChild(getStatusChildDiv(statusItem, index));\n  });\n}\n/**\n * @param {String} status the status message\n * @param {Number} index the index\n * @return {HTMLElement} the child node\n */\n\n\nfunction getStatusChildDiv(status, index) {\n  var display = index === statuses.length - 1 ? 'block' : 'none';\n  var childDiv = document.createElement('div');\n  childDiv.style.display = display;\n  childDiv.textContent = status;\n  return childDiv;\n}\n/**\n * Get the status node or create it if it does not already exist\n * @return {HTMLElement} the status node\n */\n\n\nfunction getStatusDiv() {\n  if (statusDiv) {\n    return statusDiv;\n  }\n\n  statusDiv = document.createElement('div');\n  statusDiv.setAttribute('id', 'a11y-status-message');\n  statusDiv.setAttribute('role', 'status');\n  statusDiv.setAttribute('aria-live', 'polite');\n  statusDiv.setAttribute('aria-relevant', 'additions text');\n  Object.assign(statusDiv.style, {\n    border: '0',\n    clip: 'rect(0 0 0 0)',\n    height: '1px',\n    margin: '-1px',\n    overflow: 'hidden',\n    padding: '0',\n    position: 'absolute',\n    width: '1px'\n  });\n  document.body.appendChild(statusDiv);\n  return statusDiv;\n}\n\nvar unknown = process.env.NODE_ENV !== \"production\" ? '__autocomplete_unknown__' : 0;\nvar mouseUp = process.env.NODE_ENV !== \"production\" ? '__autocomplete_mouseup__' : 1;\nvar itemMouseEnter = process.env.NODE_ENV !== \"production\" ? '__autocomplete_item_mouseenter__' : 2;\nvar keyDownArrowUp = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_arrow_up__' : 3;\nvar keyDownArrowDown = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_arrow_down__' : 4;\nvar keyDownEscape = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_escape__' : 5;\nvar keyDownEnter = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_enter__' : 6;\nvar keyDownHome = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_home__' : 7;\nvar keyDownEnd = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_enter__' : 8;\nvar clickItem = process.env.NODE_ENV !== \"production\" ? '__autocomplete_click_item__' : 9;\nvar blurInput = process.env.NODE_ENV !== \"production\" ? '__autocomplete_blur_input__' : 10;\nvar changeInput = process.env.NODE_ENV !== \"production\" ? '__autocomplete_change_input__' : 11;\nvar keyDownSpaceButton = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_space_button__' : 12;\nvar clickButton = process.env.NODE_ENV !== \"production\" ? '__autocomplete_click_button__' : 13;\nvar blurButton = process.env.NODE_ENV !== \"production\" ? '__autocomplete_blur_button__' : 14;\nvar controlledPropUpdatedSelectedItem = process.env.NODE_ENV !== \"production\" ? '__autocomplete_controlled_prop_updated_selected_item__' : 15;\nvar touchEnd = process.env.NODE_ENV !== \"production\" ? '__autocomplete_touchend__' : 16;\n\nvar stateChangeTypes = /*#__PURE__*/Object.freeze({\n  unknown: unknown,\n  mouseUp: mouseUp,\n  itemMouseEnter: itemMouseEnter,\n  keyDownArrowUp: keyDownArrowUp,\n  keyDownArrowDown: keyDownArrowDown,\n  keyDownEscape: keyDownEscape,\n  keyDownEnter: keyDownEnter,\n  keyDownHome: keyDownHome,\n  keyDownEnd: keyDownEnd,\n  clickItem: clickItem,\n  blurInput: blurInput,\n  changeInput: changeInput,\n  keyDownSpaceButton: keyDownSpaceButton,\n  clickButton: clickButton,\n  blurButton: blurButton,\n  controlledPropUpdatedSelectedItem: controlledPropUpdatedSelectedItem,\n  touchEnd: touchEnd\n});\n\nvar idCounter = 0;\n/**\n * Accepts a parameter and returns it if it's a function\n * or a noop function if it's not. This allows us to\n * accept a callback, but not worry about it if it's not\n * passed.\n * @param {Function} cb the callback\n * @return {Function} a function\n */\n\nfunction cbToCb(cb) {\n  return typeof cb === 'function' ? cb : noop;\n}\n\nfunction noop() {}\n/**\n * Scroll node into view if necessary\n * @param {HTMLElement} node the element that should scroll into view\n * @param {HTMLElement} menuNode the menu element of the component\n */\n\n\nfunction scrollIntoView(node, menuNode) {\n  if (node === null) {\n    return;\n  }\n\n  var actions = computeScrollIntoView(node, {\n    boundary: menuNode,\n    block: 'nearest',\n    scrollMode: 'if-needed'\n  });\n  actions.forEach(function (_ref) {\n    var el = _ref.el,\n        top = _ref.top,\n        left = _ref.left;\n    el.scrollTop = top;\n    el.scrollLeft = left;\n  });\n}\n/**\n * @param {HTMLElement} parent the parent node\n * @param {HTMLElement} child the child node\n * @return {Boolean} whether the parent is the child or the child is in the parent\n */\n\n\nfunction isOrContainsNode(parent, child) {\n  return parent === child || parent.contains && parent.contains(child);\n}\n/**\n * Simple debounce implementation. Will call the given\n * function once after the time given has passed since\n * it was last called.\n * @param {Function} fn the function to call after the time\n * @param {Number} time the time to wait\n * @return {Function} the debounced function\n */\n\n\nfunction debounce(fn, time) {\n  var timeoutId;\n\n  function cancel() {\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n    }\n  }\n\n  function wrapper() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    cancel();\n    timeoutId = setTimeout(function () {\n      timeoutId = null;\n      fn.apply(void 0, args);\n    }, time);\n  }\n\n  wrapper.cancel = cancel;\n  return wrapper;\n}\n/**\n * This is intended to be used to compose event handlers.\n * They are executed in order until one of them sets\n * `event.preventDownshiftDefault = true`.\n * @param {...Function} fns the event handler functions\n * @return {Function} the event handler to add to an element\n */\n\n\nfunction callAllEventHandlers() {\n  for (var _len2 = arguments.length, fns = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    fns[_key2] = arguments[_key2];\n  }\n\n  return function (event) {\n    for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n      args[_key3 - 1] = arguments[_key3];\n    }\n\n    return fns.some(function (fn) {\n      if (fn) {\n        fn.apply(void 0, [event].concat(args));\n      }\n\n      return event.preventDownshiftDefault || event.hasOwnProperty('nativeEvent') && event.nativeEvent.preventDownshiftDefault;\n    });\n  };\n}\n/**\n * This return a function that will call all the given functions with\n * the arguments with which it's called. It does a null-check before\n * attempting to call the functions and can take any number of functions.\n * @param {...Function} fns the functions to call\n * @return {Function} the function that calls all the functions\n */\n\n\nfunction callAll() {\n  for (var _len4 = arguments.length, fns = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n    fns[_key4] = arguments[_key4];\n  }\n\n  return function () {\n    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n      args[_key5] = arguments[_key5];\n    }\n\n    fns.forEach(function (fn) {\n      if (fn) {\n        fn.apply(void 0, args);\n      }\n    });\n  };\n}\n/**\n * This generates a unique ID for an instance of Downshift\n * @return {String} the unique ID\n */\n\n\nfunction generateId() {\n  return String(idCounter++);\n}\n/**\n * Resets idCounter to 0. Used for SSR.\n */\n\n\nfunction resetIdCounter() {\n  idCounter = 0;\n}\n/**\n * @param {Object} param the downshift state and other relevant properties\n * @return {String} the a11y status message\n */\n\n\nfunction getA11yStatusMessage(_ref2) {\n  var isOpen = _ref2.isOpen,\n      selectedItem = _ref2.selectedItem,\n      resultCount = _ref2.resultCount,\n      previousResultCount = _ref2.previousResultCount,\n      itemToString = _ref2.itemToString;\n\n  if (!isOpen) {\n    return selectedItem ? itemToString(selectedItem) : '';\n  }\n\n  if (!resultCount) {\n    return 'No results are available.';\n  }\n\n  if (resultCount !== previousResultCount) {\n    return resultCount + \" result\" + (resultCount === 1 ? ' is' : 's are') + \" available, use up and down arrow keys to navigate. Press Enter key to select.\";\n  }\n\n  return '';\n}\n/**\n * Takes an argument and if it's an array, returns the first item in the array\n * otherwise returns the argument\n * @param {*} arg the maybe-array\n * @param {*} defaultValue the value if arg is falsey not defined\n * @return {*} the arg or it's first item\n */\n\n\nfunction unwrapArray(arg, defaultValue) {\n  arg = Array.isArray(arg) ?\n  /* istanbul ignore next (preact) */\n  arg[0] : arg;\n\n  if (!arg && defaultValue) {\n    return defaultValue;\n  } else {\n    return arg;\n  }\n}\n/**\n * @param {Object} element (P)react element\n * @return {Boolean} whether it's a DOM element\n */\n\n\nfunction isDOMElement(element) {\n  // then we assume this is react\n  return typeof element.type === 'string';\n}\n/**\n * @param {Object} element (P)react element\n * @return {Object} the props\n */\n\n\nfunction getElementProps(element) {\n  return element.props;\n}\n/**\n * Throws a helpful error message for required properties. Useful\n * to be used as a default in destructuring or object params.\n * @param {String} fnName the function name\n * @param {String} propName the prop name\n */\n\n\nfunction requiredProp(fnName, propName) {\n  // eslint-disable-next-line no-console\n  console.error(\"The property \\\"\" + propName + \"\\\" is required in \\\"\" + fnName + \"\\\"\");\n}\n\nvar stateKeys = ['highlightedIndex', 'inputValue', 'isOpen', 'selectedItem', 'type'];\n/**\n * @param {Object} state the state object\n * @return {Object} state that is relevant to downshift\n */\n\nfunction pickState(state) {\n  if (state === void 0) {\n    state = {};\n  }\n\n  var result = {};\n  stateKeys.forEach(function (k) {\n    if (state.hasOwnProperty(k)) {\n      result[k] = state[k];\n    }\n  });\n  return result;\n}\n/**\n * Normalizes the 'key' property of a KeyboardEvent in IE/Edge\n * @param {Object} event a keyboardEvent object\n * @return {String} keyboard key\n */\n\n\nfunction normalizeArrowKey(event) {\n  var key = event.key,\n      keyCode = event.keyCode;\n  /* istanbul ignore next (ie) */\n\n  if (keyCode >= 37 && keyCode <= 40 && key.indexOf('Arrow') !== 0) {\n    return \"Arrow\" + key;\n  }\n\n  return key;\n}\n/**\n * Simple check if the value passed is object literal\n * @param {*} obj any things\n * @return {Boolean} whether it's object literal\n */\n\n\nfunction isPlainObject(obj) {\n  return Object.prototype.toString.call(obj) === '[object Object]';\n}\n/**\n * Returns the new index in the list, in a circular way. If next value is out of bonds from the total,\n * it will wrap to either 0 or itemCount - 1.\n *\n * @param {number} moveAmount Number of positions to move. Negative to move backwards, positive forwards.\n * @param {number} baseIndex The initial position to move from.\n * @param {number} itemCount The total number of items.\n * @returns {number} The new index after the move.\n */\n\n\nfunction getNextWrappingIndex(moveAmount, baseIndex, itemCount) {\n  var itemsLastIndex = itemCount - 1;\n\n  if (typeof baseIndex !== 'number' || baseIndex < 0 || baseIndex >= itemCount) {\n    baseIndex = moveAmount > 0 ? -1 : itemsLastIndex + 1;\n  }\n\n  var newIndex = baseIndex + moveAmount;\n\n  if (newIndex < 0) {\n    newIndex = itemsLastIndex;\n  } else if (newIndex > itemsLastIndex) {\n    newIndex = 0;\n  }\n\n  return newIndex;\n}\n\nvar Downshift =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(Downshift, _Component);\n\n  function Downshift(_props) {\n    var _this = _Component.call(this, _props) || this;\n\n    _this.id = _this.props.id || \"downshift-\" + generateId();\n    _this.menuId = _this.props.menuId || _this.id + \"-menu\";\n    _this.labelId = _this.props.labelId || _this.id + \"-label\";\n    _this.inputId = _this.props.inputId || _this.id + \"-input\";\n\n    _this.getItemId = _this.props.getItemId || function (index) {\n      return _this.id + \"-item-\" + index;\n    };\n\n    _this.input = null;\n    _this.items = [];\n    _this.itemCount = null;\n    _this.previousResultCount = 0;\n    _this.timeoutIds = [];\n\n    _this.internalSetTimeout = function (fn, time) {\n      var id = setTimeout(function () {\n        _this.timeoutIds = _this.timeoutIds.filter(function (i) {\n          return i !== id;\n        });\n        fn();\n      }, time);\n\n      _this.timeoutIds.push(id);\n    };\n\n    _this.setItemCount = function (count) {\n      _this.itemCount = count;\n    };\n\n    _this.unsetItemCount = function () {\n      _this.itemCount = null;\n    };\n\n    _this.setHighlightedIndex = function (highlightedIndex, otherStateToSet) {\n      if (highlightedIndex === void 0) {\n        highlightedIndex = _this.props.defaultHighlightedIndex;\n      }\n\n      if (otherStateToSet === void 0) {\n        otherStateToSet = {};\n      }\n\n      otherStateToSet = pickState(otherStateToSet);\n\n      _this.internalSetState(_extends({\n        highlightedIndex: highlightedIndex\n      }, otherStateToSet));\n    };\n\n    _this.clearSelection = function (cb) {\n      _this.internalSetState({\n        selectedItem: null,\n        inputValue: '',\n        highlightedIndex: _this.props.defaultHighlightedIndex,\n        isOpen: _this.props.defaultIsOpen\n      }, cb);\n    };\n\n    _this.selectItem = function (item, otherStateToSet, cb) {\n      otherStateToSet = pickState(otherStateToSet);\n\n      _this.internalSetState(_extends({\n        isOpen: _this.props.defaultIsOpen,\n        highlightedIndex: _this.props.defaultHighlightedIndex,\n        selectedItem: item,\n        inputValue: _this.props.itemToString(item)\n      }, otherStateToSet), cb);\n    };\n\n    _this.selectItemAtIndex = function (itemIndex, otherStateToSet, cb) {\n      var item = _this.items[itemIndex];\n\n      if (item == null) {\n        return;\n      }\n\n      _this.selectItem(item, otherStateToSet, cb);\n    };\n\n    _this.selectHighlightedItem = function (otherStateToSet, cb) {\n      return _this.selectItemAtIndex(_this.getState().highlightedIndex, otherStateToSet, cb);\n    };\n\n    _this.internalSetState = function (stateToSet, cb) {\n      var isItemSelected, onChangeArg;\n      var onStateChangeArg = {};\n      var isStateToSetFunction = typeof stateToSet === 'function'; // we want to call `onInputValueChange` before the `setState` call\n      // so someone controlling the `inputValue` state gets notified of\n      // the input change as soon as possible. This avoids issues with\n      // preserving the cursor position.\n      // See https://github.com/downshift-js/downshift/issues/217 for more info.\n\n      if (!isStateToSetFunction && stateToSet.hasOwnProperty('inputValue')) {\n        _this.props.onInputValueChange(stateToSet.inputValue, _extends({}, _this.getStateAndHelpers(), stateToSet));\n      }\n\n      return _this.setState(function (state) {\n        state = _this.getState(state);\n        var newStateToSet = isStateToSetFunction ? stateToSet(state) : stateToSet; // Your own function that could modify the state that will be set.\n\n        newStateToSet = _this.props.stateReducer(state, newStateToSet); // checks if an item is selected, regardless of if it's different from\n        // what was selected before\n        // used to determine if onSelect and onChange callbacks should be called\n\n        isItemSelected = newStateToSet.hasOwnProperty('selectedItem'); // this keeps track of the object we want to call with setState\n\n        var nextState = {}; // this is just used to tell whether the state changed\n\n        var nextFullState = {}; // we need to call on change if the outside world is controlling any of our state\n        // and we're trying to update that state. OR if the selection has changed and we're\n        // trying to update the selection\n\n        if (isItemSelected && newStateToSet.selectedItem !== state.selectedItem) {\n          onChangeArg = newStateToSet.selectedItem;\n        }\n\n        newStateToSet.type = newStateToSet.type || unknown;\n        Object.keys(newStateToSet).forEach(function (key) {\n          // onStateChangeArg should only have the state that is\n          // actually changing\n          if (state[key] !== newStateToSet[key]) {\n            onStateChangeArg[key] = newStateToSet[key];\n          } // the type is useful for the onStateChangeArg\n          // but we don't actually want to set it in internal state.\n          // this is an undocumented feature for now... Not all internalSetState\n          // calls support it and I'm not certain we want them to yet.\n          // But it enables users controlling the isOpen state to know when\n          // the isOpen state changes due to mouseup events which is quite handy.\n\n\n          if (key === 'type') {\n            return;\n          }\n\n          nextFullState[key] = newStateToSet[key]; // if it's coming from props, then we don't care to set it internally\n\n          if (!_this.isControlledProp(key)) {\n            nextState[key] = newStateToSet[key];\n          }\n        }); // if stateToSet is a function, then we weren't able to call onInputValueChange\n        // earlier, so we'll call it now that we know what the inputValue state will be.\n\n        if (isStateToSetFunction && newStateToSet.hasOwnProperty('inputValue')) {\n          _this.props.onInputValueChange(newStateToSet.inputValue, _extends({}, _this.getStateAndHelpers(), newStateToSet));\n        }\n\n        return nextState;\n      }, function () {\n        // call the provided callback if it's a function\n        cbToCb(cb)(); // only call the onStateChange and onChange callbacks if\n        // we have relevant information to pass them.\n\n        var hasMoreStateThanType = Object.keys(onStateChangeArg).length > 1;\n\n        if (hasMoreStateThanType) {\n          _this.props.onStateChange(onStateChangeArg, _this.getStateAndHelpers());\n        }\n\n        if (isItemSelected) {\n          _this.props.onSelect(stateToSet.selectedItem, _this.getStateAndHelpers());\n        }\n\n        if (onChangeArg !== undefined) {\n          _this.props.onChange(onChangeArg, _this.getStateAndHelpers());\n        } // this is currently undocumented and therefore subject to change\n        // We'll try to not break it, but just be warned.\n\n\n        _this.props.onUserAction(onStateChangeArg, _this.getStateAndHelpers());\n      });\n    };\n\n    _this.rootRef = function (node) {\n      return _this._rootNode = node;\n    };\n\n    _this.getRootProps = function (_temp, _temp2) {\n      var _extends2;\n\n      var _ref = _temp === void 0 ? {} : _temp,\n          _ref$refKey = _ref.refKey,\n          refKey = _ref$refKey === void 0 ? 'ref' : _ref$refKey,\n          rest = _objectWithoutPropertiesLoose(_ref, [\"refKey\"]);\n\n      var _ref2 = _temp2 === void 0 ? {} : _temp2,\n          _ref2$suppressRefErro = _ref2.suppressRefError,\n          suppressRefError = _ref2$suppressRefErro === void 0 ? false : _ref2$suppressRefErro;\n\n      // this is used in the render to know whether the user has called getRootProps.\n      // It uses that to know whether to apply the props automatically\n      _this.getRootProps.called = true;\n      _this.getRootProps.refKey = refKey;\n      _this.getRootProps.suppressRefError = suppressRefError;\n\n      var _this$getState = _this.getState(),\n          isOpen = _this$getState.isOpen;\n\n      return _extends((_extends2 = {}, _extends2[refKey] = _this.rootRef, _extends2.role = 'combobox', _extends2['aria-expanded'] = isOpen, _extends2['aria-haspopup'] = 'listbox', _extends2['aria-owns'] = isOpen ? _this.menuId : null, _extends2['aria-labelledby'] = _this.labelId, _extends2), rest);\n    };\n\n    _this.keyDownHandlers = {\n      ArrowDown: function ArrowDown(event) {\n        var _this2 = this;\n\n        event.preventDefault();\n\n        if (this.getState().isOpen) {\n          var amount = event.shiftKey ? 5 : 1;\n          this.moveHighlightedIndex(amount, {\n            type: keyDownArrowDown\n          });\n        } else {\n          this.internalSetState({\n            isOpen: true,\n            type: keyDownArrowDown\n          }, function () {\n            var itemCount = _this2.getItemCount();\n\n            if (itemCount > 0) {\n              _this2.setHighlightedIndex(getNextWrappingIndex(1, _this2.getState().highlightedIndex, itemCount), {\n                type: keyDownArrowDown\n              });\n            }\n          });\n        }\n      },\n      ArrowUp: function ArrowUp(event) {\n        var _this3 = this;\n\n        event.preventDefault();\n\n        if (this.getState().isOpen) {\n          var amount = event.shiftKey ? -5 : -1;\n          this.moveHighlightedIndex(amount, {\n            type: keyDownArrowUp\n          });\n        } else {\n          this.internalSetState({\n            isOpen: true,\n            type: keyDownArrowUp\n          }, function () {\n            var itemCount = _this3.getItemCount();\n\n            if (itemCount > 0) {\n              _this3.setHighlightedIndex(getNextWrappingIndex(-1, _this3.getState().highlightedIndex, itemCount), {\n                type: keyDownArrowDown\n              });\n            }\n          });\n        }\n      },\n      Enter: function Enter(event) {\n        var _this$getState2 = this.getState(),\n            isOpen = _this$getState2.isOpen,\n            highlightedIndex = _this$getState2.highlightedIndex;\n\n        if (isOpen && highlightedIndex != null) {\n          event.preventDefault();\n          var item = this.items[highlightedIndex];\n          var itemNode = this.getItemNodeFromIndex(highlightedIndex);\n\n          if (item == null || itemNode && itemNode.hasAttribute('disabled')) {\n            return;\n          }\n\n          this.selectHighlightedItem({\n            type: keyDownEnter\n          });\n        }\n      },\n      Escape: function Escape(event) {\n        event.preventDefault();\n        this.reset({\n          type: keyDownEscape\n        });\n      }\n    };\n    _this.buttonKeyDownHandlers = _extends({}, _this.keyDownHandlers, {\n      ' ': function _(event) {\n        event.preventDefault();\n        this.toggleMenu({\n          type: keyDownSpaceButton\n        });\n      }\n    });\n    _this.inputKeyDownHandlers = _extends({}, _this.keyDownHandlers, {\n      Home: function Home(event) {\n        this.highlightFirstOrLastIndex(event, true, {\n          type: keyDownHome\n        });\n      },\n      End: function End(event) {\n        this.highlightFirstOrLastIndex(event, false, {\n          type: keyDownEnd\n        });\n      }\n    });\n\n    _this.getToggleButtonProps = function (_temp3) {\n      var _ref3 = _temp3 === void 0 ? {} : _temp3,\n          onClick = _ref3.onClick,\n          onPress = _ref3.onPress,\n          onKeyDown = _ref3.onKeyDown,\n          onKeyUp = _ref3.onKeyUp,\n          onBlur = _ref3.onBlur,\n          rest = _objectWithoutPropertiesLoose(_ref3, [\"onClick\", \"onPress\", \"onKeyDown\", \"onKeyUp\", \"onBlur\"]);\n\n      var _this$getState3 = _this.getState(),\n          isOpen = _this$getState3.isOpen;\n\n      var enabledEventHandlers = {\n        onClick: callAllEventHandlers(onClick, _this.buttonHandleClick),\n        onKeyDown: callAllEventHandlers(onKeyDown, _this.buttonHandleKeyDown),\n        onKeyUp: callAllEventHandlers(onKeyUp, _this.buttonHandleKeyUp),\n        onBlur: callAllEventHandlers(onBlur, _this.buttonHandleBlur)\n      };\n      var eventHandlers = rest.disabled ? {} : enabledEventHandlers;\n      return _extends({\n        type: 'button',\n        role: 'button',\n        'aria-label': isOpen ? 'close menu' : 'open menu',\n        'aria-haspopup': true,\n        'data-toggle': true\n      }, eventHandlers, rest);\n    };\n\n    _this.buttonHandleKeyUp = function (event) {\n      // Prevent click event from emitting in Firefox\n      event.preventDefault();\n    };\n\n    _this.buttonHandleKeyDown = function (event) {\n      var key = normalizeArrowKey(event);\n\n      if (_this.buttonKeyDownHandlers[key]) {\n        _this.buttonKeyDownHandlers[key].call(_assertThisInitialized(_this), event);\n      }\n    };\n\n    _this.buttonHandleClick = function (event) {\n      event.preventDefault(); // handle odd case for Safari and Firefox which\n      // don't give the button the focus properly.\n\n      /* istanbul ignore if (can't reasonably test this) */\n\n      if (_this.props.environment.document.activeElement === _this.props.environment.document.body) {\n        event.target.focus();\n      } // to simplify testing components that use downshift, we'll not wrap this in a setTimeout\n      // if the NODE_ENV is test. With the proper build system, this should be dead code eliminated\n      // when building for production and should therefore have no impact on production code.\n\n\n      if (process.env.NODE_ENV === 'test') {\n        _this.toggleMenu({\n          type: clickButton\n        });\n      } else {\n        // Ensure that toggle of menu occurs after the potential blur event in iOS\n        _this.internalSetTimeout(function () {\n          return _this.toggleMenu({\n            type: clickButton\n          });\n        });\n      }\n    };\n\n    _this.buttonHandleBlur = function (event) {\n      var blurTarget = event.target; // Save blur target for comparison with activeElement later\n      // Need setTimeout, so that when the user presses Tab, the activeElement is the next focused element, not body element\n\n      _this.internalSetTimeout(function () {\n        if (!_this.isMouseDown && (_this.props.environment.document.activeElement == null || _this.props.environment.document.activeElement.id !== _this.inputId) && _this.props.environment.document.activeElement !== blurTarget // Do nothing if we refocus the same element again (to solve issue in Safari on iOS)\n        ) {\n            _this.reset({\n              type: blurButton\n            });\n          }\n      });\n    };\n\n    _this.getLabelProps = function (props) {\n      return _extends({\n        htmlFor: _this.inputId,\n        id: _this.labelId\n      }, props);\n    };\n\n    _this.getInputProps = function (_temp4) {\n      var _ref4 = _temp4 === void 0 ? {} : _temp4,\n          onKeyDown = _ref4.onKeyDown,\n          onBlur = _ref4.onBlur,\n          onChange = _ref4.onChange,\n          onInput = _ref4.onInput,\n          onChangeText = _ref4.onChangeText,\n          rest = _objectWithoutPropertiesLoose(_ref4, [\"onKeyDown\", \"onBlur\", \"onChange\", \"onInput\", \"onChangeText\"]);\n\n      var onChangeKey;\n      var eventHandlers = {};\n      /* istanbul ignore next (preact) */\n\n      onChangeKey = 'onChange';\n\n      var _this$getState4 = _this.getState(),\n          inputValue = _this$getState4.inputValue,\n          isOpen = _this$getState4.isOpen,\n          highlightedIndex = _this$getState4.highlightedIndex;\n\n      if (!rest.disabled) {\n        var _eventHandlers;\n\n        eventHandlers = (_eventHandlers = {}, _eventHandlers[onChangeKey] = callAllEventHandlers(onChange, onInput, _this.inputHandleChange), _eventHandlers.onKeyDown = callAllEventHandlers(onKeyDown, _this.inputHandleKeyDown), _eventHandlers.onBlur = callAllEventHandlers(onBlur, _this.inputHandleBlur), _eventHandlers);\n      }\n      /* istanbul ignore if (react-native) */\n\n\n      return _extends({\n        'aria-autocomplete': 'list',\n        'aria-activedescendant': isOpen && typeof highlightedIndex === 'number' && highlightedIndex >= 0 ? _this.getItemId(highlightedIndex) : null,\n        'aria-controls': isOpen ? _this.menuId : null,\n        'aria-labelledby': _this.labelId,\n        // https://developer.mozilla.org/en-US/docs/Web/Security/Securing_your_site/Turning_off_form_autocompletion\n        // revert back since autocomplete=\"nope\" is ignored on latest Chrome and Opera\n        autoComplete: 'off',\n        value: inputValue,\n        id: _this.inputId\n      }, eventHandlers, rest);\n    };\n\n    _this.inputHandleKeyDown = function (event) {\n      var key = normalizeArrowKey(event);\n\n      if (key && _this.inputKeyDownHandlers[key]) {\n        _this.inputKeyDownHandlers[key].call(_assertThisInitialized(_this), event);\n      }\n    };\n\n    _this.inputHandleChange = function (event) {\n      _this.internalSetState({\n        type: changeInput,\n        isOpen: true,\n        inputValue: event.target.value,\n        highlightedIndex: _this.props.defaultHighlightedIndex\n      });\n    };\n\n    _this.inputHandleTextChange\n    /* istanbul ignore next (react-native) */\n    = function (text) {\n      _this.internalSetState({\n        type: changeInput,\n        isOpen: true,\n        inputValue: text,\n        highlightedIndex: _this.props.defaultHighlightedIndex\n      });\n    };\n\n    _this.inputHandleBlur = function () {\n      // Need setTimeout, so that when the user presses Tab, the activeElement is the next focused element, not the body element\n      _this.internalSetTimeout(function () {\n        var downshiftButtonIsActive = _this.props.environment.document && !!_this.props.environment.document.activeElement && !!_this.props.environment.document.activeElement.dataset && _this.props.environment.document.activeElement.dataset.toggle && _this._rootNode && _this._rootNode.contains(_this.props.environment.document.activeElement);\n\n        if (!_this.isMouseDown && !downshiftButtonIsActive) {\n          _this.reset({\n            type: blurInput\n          });\n        }\n      });\n    };\n\n    _this.menuRef = function (node) {\n      _this._menuNode = node;\n    };\n\n    _this.getMenuProps = function (_temp5, _temp6) {\n      var _extends3;\n\n      var _ref5 = _temp5 === void 0 ? {} : _temp5,\n          _ref5$refKey = _ref5.refKey,\n          refKey = _ref5$refKey === void 0 ? 'ref' : _ref5$refKey,\n          ref = _ref5.ref,\n          props = _objectWithoutPropertiesLoose(_ref5, [\"refKey\", \"ref\"]);\n\n      var _ref6 = _temp6 === void 0 ? {} : _temp6,\n          _ref6$suppressRefErro = _ref6.suppressRefError,\n          suppressRefError = _ref6$suppressRefErro === void 0 ? false : _ref6$suppressRefErro;\n\n      _this.getMenuProps.called = true;\n      _this.getMenuProps.refKey = refKey;\n      _this.getMenuProps.suppressRefError = suppressRefError;\n      return _extends((_extends3 = {}, _extends3[refKey] = callAll(ref, _this.menuRef), _extends3.role = 'listbox', _extends3['aria-labelledby'] = props && props['aria-label'] ? null : _this.labelId, _extends3.id = _this.menuId, _extends3), props);\n    };\n\n    _this.getItemProps = function (_temp7) {\n      var _enabledEventHandlers;\n\n      var _ref7 = _temp7 === void 0 ? {} : _temp7,\n          onMouseMove = _ref7.onMouseMove,\n          onMouseDown = _ref7.onMouseDown,\n          onClick = _ref7.onClick,\n          onPress = _ref7.onPress,\n          index = _ref7.index,\n          _ref7$item = _ref7.item,\n          item = _ref7$item === void 0 ? process.env.NODE_ENV === 'production' ?\n      /* istanbul ignore next */\n      undefined : requiredProp('getItemProps', 'item') : _ref7$item,\n          rest = _objectWithoutPropertiesLoose(_ref7, [\"onMouseMove\", \"onMouseDown\", \"onClick\", \"onPress\", \"index\", \"item\"]);\n\n      if (index === undefined) {\n        _this.items.push(item);\n\n        index = _this.items.indexOf(item);\n      } else {\n        _this.items[index] = item;\n      }\n\n      var onSelectKey = 'onClick';\n      var customClickHandler = onClick;\n      var enabledEventHandlers = (_enabledEventHandlers = {\n        // onMouseMove is used over onMouseEnter here. onMouseMove\n        // is only triggered on actual mouse movement while onMouseEnter\n        // can fire on DOM changes, interrupting keyboard navigation\n        onMouseMove: callAllEventHandlers(onMouseMove, function () {\n          if (index === _this.getState().highlightedIndex) {\n            return;\n          }\n\n          _this.setHighlightedIndex(index, {\n            type: itemMouseEnter\n          }); // We never want to manually scroll when changing state based\n          // on `onMouseMove` because we will be moving the element out\n          // from under the user which is currently scrolling/moving the\n          // cursor\n\n\n          _this.avoidScrolling = true;\n\n          _this.internalSetTimeout(function () {\n            return _this.avoidScrolling = false;\n          }, 250);\n        }),\n        onMouseDown: callAllEventHandlers(onMouseDown, function (event) {\n          // This prevents the activeElement from being changed\n          // to the item so it can remain with the current activeElement\n          // which is a more common use case.\n          event.preventDefault();\n        })\n      }, _enabledEventHandlers[onSelectKey] = callAllEventHandlers(customClickHandler, function () {\n        _this.selectItemAtIndex(index, {\n          type: clickItem\n        });\n      }), _enabledEventHandlers); // Passing down the onMouseDown handler to prevent redirect\n      // of the activeElement if clicking on disabled items\n\n      var eventHandlers = rest.disabled ? {\n        onMouseDown: enabledEventHandlers.onMouseDown\n      } : enabledEventHandlers;\n      return _extends({\n        id: _this.getItemId(index),\n        role: 'option',\n        'aria-selected': _this.getState().highlightedIndex === index\n      }, eventHandlers, rest);\n    };\n\n    _this.clearItems = function () {\n      _this.items = [];\n    };\n\n    _this.reset = function (otherStateToSet, cb) {\n      if (otherStateToSet === void 0) {\n        otherStateToSet = {};\n      }\n\n      otherStateToSet = pickState(otherStateToSet);\n\n      _this.internalSetState(function (_ref8) {\n        var selectedItem = _ref8.selectedItem;\n        return _extends({\n          isOpen: _this.props.defaultIsOpen,\n          highlightedIndex: _this.props.defaultHighlightedIndex,\n          inputValue: _this.props.itemToString(selectedItem)\n        }, otherStateToSet);\n      }, cb);\n    };\n\n    _this.toggleMenu = function (otherStateToSet, cb) {\n      if (otherStateToSet === void 0) {\n        otherStateToSet = {};\n      }\n\n      otherStateToSet = pickState(otherStateToSet);\n\n      _this.internalSetState(function (_ref9) {\n        var isOpen = _ref9.isOpen;\n        return _extends({\n          isOpen: !isOpen\n        }, isOpen && {\n          highlightedIndex: _this.props.defaultHighlightedIndex\n        }, otherStateToSet);\n      }, function () {\n        var _this$getState5 = _this.getState(),\n            isOpen = _this$getState5.isOpen,\n            highlightedIndex = _this$getState5.highlightedIndex;\n\n        if (isOpen) {\n          if (_this.getItemCount() > 0 && typeof highlightedIndex === 'number') {\n            _this.setHighlightedIndex(highlightedIndex, otherStateToSet);\n          }\n        }\n\n        cbToCb(cb)();\n      });\n    };\n\n    _this.openMenu = function (cb) {\n      _this.internalSetState({\n        isOpen: true\n      }, cb);\n    };\n\n    _this.closeMenu = function (cb) {\n      _this.internalSetState({\n        isOpen: false\n      }, cb);\n    };\n\n    _this.updateStatus = debounce(function () {\n      var state = _this.getState();\n\n      var item = _this.items[state.highlightedIndex];\n\n      var resultCount = _this.getItemCount();\n\n      var status = _this.props.getA11yStatusMessage(_extends({\n        itemToString: _this.props.itemToString,\n        previousResultCount: _this.previousResultCount,\n        resultCount: resultCount,\n        highlightedItem: item\n      }, state));\n\n      _this.previousResultCount = resultCount;\n      setStatus(status);\n    }, 200);\n\n    // fancy destructuring + defaults + aliases\n    // this basically says each value of state should either be set to\n    // the initial value or the default value if the initial value is not provided\n    var _this$props = _this.props,\n        defaultHighlightedIndex = _this$props.defaultHighlightedIndex,\n        _this$props$initialHi = _this$props.initialHighlightedIndex,\n        _highlightedIndex = _this$props$initialHi === void 0 ? defaultHighlightedIndex : _this$props$initialHi,\n        defaultIsOpen = _this$props.defaultIsOpen,\n        _this$props$initialIs = _this$props.initialIsOpen,\n        _isOpen = _this$props$initialIs === void 0 ? defaultIsOpen : _this$props$initialIs,\n        _this$props$initialIn = _this$props.initialInputValue,\n        _inputValue = _this$props$initialIn === void 0 ? '' : _this$props$initialIn,\n        _this$props$initialSe = _this$props.initialSelectedItem,\n        _selectedItem = _this$props$initialSe === void 0 ? null : _this$props$initialSe;\n\n    var _state = _this.getState({\n      highlightedIndex: _highlightedIndex,\n      isOpen: _isOpen,\n      inputValue: _inputValue,\n      selectedItem: _selectedItem\n    });\n\n    if (_state.selectedItem != null && _this.props.initialInputValue === undefined) {\n      _state.inputValue = _this.props.itemToString(_state.selectedItem);\n    }\n\n    _this.state = _state;\n    return _this;\n  }\n\n  var _proto = Downshift.prototype;\n\n  /**\n   * Clear all running timeouts\n   */\n  _proto.internalClearTimeouts = function internalClearTimeouts() {\n    this.timeoutIds.forEach(function (id) {\n      clearTimeout(id);\n    });\n    this.timeoutIds = [];\n  }\n  /**\n   * Gets the state based on internal state or props\n   * If a state value is passed via props, then that\n   * is the value given, otherwise it's retrieved from\n   * stateToMerge\n   *\n   * This will perform a shallow merge of the given state object\n   * with the state coming from props\n   * (for the controlled component scenario)\n   * This is used in state updater functions so they're referencing\n   * the right state regardless of where it comes from.\n   *\n   * @param {Object} stateToMerge defaults to this.state\n   * @return {Object} the state\n   */\n  ;\n\n  _proto.getState = function getState(stateToMerge) {\n    var _this4 = this;\n\n    if (stateToMerge === void 0) {\n      stateToMerge = this.state;\n    }\n\n    return Object.keys(stateToMerge).reduce(function (state, key) {\n      state[key] = _this4.isControlledProp(key) ? _this4.props[key] : stateToMerge[key];\n      return state;\n    }, {});\n  }\n  /**\n   * This determines whether a prop is a \"controlled prop\" meaning it is\n   * state which is controlled by the outside of this component rather\n   * than within this component.\n   * @param {String} key the key to check\n   * @return {Boolean} whether it is a controlled controlled prop\n   */\n  ;\n\n  _proto.isControlledProp = function isControlledProp(key) {\n    return this.props[key] !== undefined;\n  };\n\n  _proto.getItemCount = function getItemCount() {\n    // things read better this way. They're in priority order:\n    // 1. `this.itemCount`\n    // 2. `this.props.itemCount`\n    // 3. `this.items.length`\n    var itemCount = this.items.length;\n\n    if (this.itemCount != null) {\n      itemCount = this.itemCount;\n    } else if (this.props.itemCount !== undefined) {\n      itemCount = this.props.itemCount;\n    }\n\n    return itemCount;\n  };\n\n  _proto.getItemNodeFromIndex = function getItemNodeFromIndex(index) {\n    return this.props.environment.document.getElementById(this.getItemId(index));\n  };\n\n  _proto.scrollHighlightedItemIntoView = function scrollHighlightedItemIntoView() {\n    /* istanbul ignore else (react-native) */\n    {\n      var node = this.getItemNodeFromIndex(this.getState().highlightedIndex);\n      this.props.scrollIntoView(node, this._menuNode);\n    }\n  };\n\n  _proto.moveHighlightedIndex = function moveHighlightedIndex(amount, otherStateToSet) {\n    var itemCount = this.getItemCount();\n\n    if (itemCount > 0) {\n      var nextHighlightedIndex = getNextWrappingIndex(amount, this.getState().highlightedIndex, itemCount);\n      this.setHighlightedIndex(nextHighlightedIndex, otherStateToSet);\n    }\n  };\n\n  _proto.highlightFirstOrLastIndex = function highlightFirstOrLastIndex(event, first, otherStateToSet) {\n    var itemsLastIndex = this.getItemCount() - 1;\n\n    if (itemsLastIndex < 0 || !this.getState().isOpen) {\n      return;\n    }\n\n    event.preventDefault();\n    this.setHighlightedIndex(first ? 0 : itemsLastIndex, otherStateToSet);\n  };\n\n  _proto.getStateAndHelpers = function getStateAndHelpers() {\n    var _this$getState6 = this.getState(),\n        highlightedIndex = _this$getState6.highlightedIndex,\n        inputValue = _this$getState6.inputValue,\n        selectedItem = _this$getState6.selectedItem,\n        isOpen = _this$getState6.isOpen;\n\n    var itemToString = this.props.itemToString;\n    var id = this.id;\n    var getRootProps = this.getRootProps,\n        getToggleButtonProps = this.getToggleButtonProps,\n        getLabelProps = this.getLabelProps,\n        getMenuProps = this.getMenuProps,\n        getInputProps = this.getInputProps,\n        getItemProps = this.getItemProps,\n        openMenu = this.openMenu,\n        closeMenu = this.closeMenu,\n        toggleMenu = this.toggleMenu,\n        selectItem = this.selectItem,\n        selectItemAtIndex = this.selectItemAtIndex,\n        selectHighlightedItem = this.selectHighlightedItem,\n        setHighlightedIndex = this.setHighlightedIndex,\n        clearSelection = this.clearSelection,\n        clearItems = this.clearItems,\n        reset = this.reset,\n        setItemCount = this.setItemCount,\n        unsetItemCount = this.unsetItemCount,\n        setState = this.internalSetState;\n    return {\n      // prop getters\n      getRootProps: getRootProps,\n      getToggleButtonProps: getToggleButtonProps,\n      getLabelProps: getLabelProps,\n      getMenuProps: getMenuProps,\n      getInputProps: getInputProps,\n      getItemProps: getItemProps,\n      // actions\n      reset: reset,\n      openMenu: openMenu,\n      closeMenu: closeMenu,\n      toggleMenu: toggleMenu,\n      selectItem: selectItem,\n      selectItemAtIndex: selectItemAtIndex,\n      selectHighlightedItem: selectHighlightedItem,\n      setHighlightedIndex: setHighlightedIndex,\n      clearSelection: clearSelection,\n      clearItems: clearItems,\n      setItemCount: setItemCount,\n      unsetItemCount: unsetItemCount,\n      setState: setState,\n      // props\n      itemToString: itemToString,\n      // derived\n      id: id,\n      // state\n      highlightedIndex: highlightedIndex,\n      inputValue: inputValue,\n      isOpen: isOpen,\n      selectedItem: selectedItem\n    };\n  } //////////////////////////// ROOT\n  ;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var _this5 = this;\n\n    /* istanbul ignore if (react-native) */\n    if (process.env.NODE_ENV !== 'production' && !false && this.getMenuProps.called && !this.getMenuProps.suppressRefError) {\n      validateGetMenuPropsCalledCorrectly(this._menuNode, this.getMenuProps);\n    }\n    /* istanbul ignore if (react-native) */\n\n\n    {\n      var targetWithinDownshift = function (target, checkActiveElement) {\n        if (checkActiveElement === void 0) {\n          checkActiveElement = true;\n        }\n\n        var document = _this5.props.environment.document;\n        return [_this5._rootNode, _this5._menuNode].some(function (contextNode) {\n          return contextNode && (isOrContainsNode(contextNode, target) || checkActiveElement && isOrContainsNode(contextNode, document.activeElement));\n        });\n      }; // this.isMouseDown helps us track whether the mouse is currently held down.\n      // This is useful when the user clicks on an item in the list, but holds the mouse\n      // down long enough for the list to disappear (because the blur event fires on the input)\n      // this.isMouseDown is used in the blur handler on the input to determine whether the blur event should\n      // trigger hiding the menu.\n\n\n      var onMouseDown = function () {\n        _this5.isMouseDown = true;\n      };\n\n      var onMouseUp = function (event) {\n        _this5.isMouseDown = false; // if the target element or the activeElement is within a downshift node\n        // then we don't want to reset downshift\n\n        var contextWithinDownshift = targetWithinDownshift(event.target);\n\n        if (!contextWithinDownshift && _this5.getState().isOpen) {\n          _this5.reset({\n            type: mouseUp\n          }, function () {\n            return _this5.props.onOuterClick(_this5.getStateAndHelpers());\n          });\n        }\n      }; // Touching an element in iOS gives focus and hover states, but touching out of\n      // the element will remove hover, and persist the focus state, resulting in the\n      // blur event not being triggered.\n      // this.isTouchMove helps us track whether the user is tapping or swiping on a touch screen.\n      // If the user taps outside of Downshift, the component should be reset,\n      // but not if the user is swiping\n\n\n      var onTouchStart = function () {\n        _this5.isTouchMove = false;\n      };\n\n      var onTouchMove = function () {\n        _this5.isTouchMove = true;\n      };\n\n      var onTouchEnd = function (event) {\n        var contextWithinDownshift = targetWithinDownshift(event.target, false);\n\n        if (!_this5.isTouchMove && !contextWithinDownshift && _this5.getState().isOpen) {\n          _this5.reset({\n            type: touchEnd\n          }, function () {\n            return _this5.props.onOuterClick(_this5.getStateAndHelpers());\n          });\n        }\n      };\n\n      this.props.environment.addEventListener('mousedown', onMouseDown);\n      this.props.environment.addEventListener('mouseup', onMouseUp);\n      this.props.environment.addEventListener('touchstart', onTouchStart);\n      this.props.environment.addEventListener('touchmove', onTouchMove);\n      this.props.environment.addEventListener('touchend', onTouchEnd);\n\n      this.cleanup = function () {\n        _this5.internalClearTimeouts();\n\n        _this5.updateStatus.cancel();\n\n        _this5.props.environment.removeEventListener('mousedown', onMouseDown);\n\n        _this5.props.environment.removeEventListener('mouseup', onMouseUp);\n\n        _this5.props.environment.removeEventListener('touchstart', onTouchStart);\n\n        _this5.props.environment.removeEventListener('touchmove', onTouchMove);\n\n        _this5.props.environment.removeEventListener('touchend', onTouchEnd);\n      };\n    }\n  };\n\n  _proto.shouldScroll = function shouldScroll(prevState, prevProps) {\n    var _ref10 = this.props.highlightedIndex === undefined ? this.getState() : this.props,\n        currentHighlightedIndex = _ref10.highlightedIndex;\n\n    var _ref11 = prevProps.highlightedIndex === undefined ? prevState : prevProps,\n        prevHighlightedIndex = _ref11.highlightedIndex;\n\n    var scrollWhenOpen = currentHighlightedIndex && this.getState().isOpen && !prevState.isOpen;\n    return scrollWhenOpen || currentHighlightedIndex !== prevHighlightedIndex;\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    if (process.env.NODE_ENV !== 'production') {\n      validateControlledUnchanged(prevProps, this.props);\n      /* istanbul ignore if (react-native) */\n\n      if (this.getMenuProps.called && !this.getMenuProps.suppressRefError) {\n        validateGetMenuPropsCalledCorrectly(this._menuNode, this.getMenuProps);\n      }\n    }\n\n    if (this.isControlledProp('selectedItem') && this.props.selectedItemChanged(prevProps.selectedItem, this.props.selectedItem)) {\n      this.internalSetState({\n        type: controlledPropUpdatedSelectedItem,\n        inputValue: this.props.itemToString(this.props.selectedItem)\n      });\n    }\n\n    if (!this.avoidScrolling && this.shouldScroll(prevState, prevProps)) {\n      this.scrollHighlightedItemIntoView();\n    }\n    /* istanbul ignore else (react-native) */\n\n\n    this.updateStatus();\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.cleanup(); // avoids memory leak\n  };\n\n  _proto.render = function render() {\n    var children = unwrapArray(this.props.children, noop); // because the items are rerendered every time we call the children\n    // we clear this out each render and it will be populated again as\n    // getItemProps is called.\n\n    this.clearItems(); // we reset this so we know whether the user calls getRootProps during\n    // this render. If they do then we don't need to do anything,\n    // if they don't then we need to clone the element they return and\n    // apply the props for them.\n\n    this.getRootProps.called = false;\n    this.getRootProps.refKey = undefined;\n    this.getRootProps.suppressRefError = undefined; // we do something similar for getMenuProps\n\n    this.getMenuProps.called = false;\n    this.getMenuProps.refKey = undefined;\n    this.getMenuProps.suppressRefError = undefined; // we do something similar for getLabelProps\n\n    this.getLabelProps.called = false; // and something similar for getInputProps\n\n    this.getInputProps.called = false;\n    var element = unwrapArray(children(this.getStateAndHelpers()));\n\n    if (!element) {\n      return null;\n    }\n\n    if (this.getRootProps.called || this.props.suppressRefError) {\n      if (process.env.NODE_ENV !== 'production' && !this.getRootProps.suppressRefError && !this.props.suppressRefError) {\n        validateGetRootPropsCalledCorrectly(element, this.getRootProps);\n      }\n\n      return element;\n    } else if (isDOMElement(element)) {\n      // they didn't apply the root props, but we can clone\n      // this and apply the props ourselves\n      return React.cloneElement(element, this.getRootProps(getElementProps(element)));\n    }\n    /* istanbul ignore else */\n\n\n    if (process.env.NODE_ENV !== 'production') {\n      // they didn't apply the root props, but they need to\n      // otherwise we can't query around the autocomplete\n      throw new Error('downshift: If you return a non-DOM element, you must use apply the getRootProps function');\n    }\n    /* istanbul ignore next */\n\n\n    return undefined;\n  };\n\n  return Downshift;\n}(Component);\n\nDownshift.defaultProps = {\n  defaultHighlightedIndex: null,\n  defaultIsOpen: false,\n  getA11yStatusMessage: getA11yStatusMessage,\n  itemToString: function itemToString(i) {\n    if (i == null) {\n      return '';\n    }\n\n    if (process.env.NODE_ENV !== 'production' && isPlainObject(i) && !i.hasOwnProperty('toString')) {\n      // eslint-disable-next-line no-console\n      console.warn('downshift: An object was passed to the default implementation of `itemToString`. You should probably provide your own `itemToString` implementation. Please refer to the `itemToString` API documentation.', 'The object that was passed:', i);\n    }\n\n    return String(i);\n  },\n  onStateChange: noop,\n  onInputValueChange: noop,\n  onUserAction: noop,\n  onChange: noop,\n  onSelect: noop,\n  onOuterClick: noop,\n  selectedItemChanged: function selectedItemChanged(prevItem, item) {\n    return prevItem !== item;\n  },\n  environment: typeof window === 'undefined'\n  /* istanbul ignore next (ssr) */\n  ? {} : window,\n  stateReducer: function stateReducer(state, stateToSet) {\n    return stateToSet;\n  },\n  suppressRefError: false,\n  scrollIntoView: scrollIntoView\n};\nDownshift.stateChangeTypes = stateChangeTypes;\nprocess.env.NODE_ENV !== \"production\" ? Downshift.propTypes = {\n  children: PropTypes.func,\n  defaultHighlightedIndex: PropTypes.number,\n  defaultIsOpen: PropTypes.bool,\n  initialHighlightedIndex: PropTypes.number,\n  initialSelectedItem: PropTypes.any,\n  initialInputValue: PropTypes.string,\n  initialIsOpen: PropTypes.bool,\n  getA11yStatusMessage: PropTypes.func,\n  itemToString: PropTypes.func,\n  onChange: PropTypes.func,\n  onSelect: PropTypes.func,\n  onStateChange: PropTypes.func,\n  onInputValueChange: PropTypes.func,\n  onUserAction: PropTypes.func,\n  onOuterClick: PropTypes.func,\n  selectedItemChanged: PropTypes.func,\n  stateReducer: PropTypes.func,\n  itemCount: PropTypes.number,\n  id: PropTypes.string,\n  environment: PropTypes.shape({\n    addEventListener: PropTypes.func,\n    removeEventListener: PropTypes.func,\n    document: PropTypes.shape({\n      getElementById: PropTypes.func,\n      activeElement: PropTypes.any,\n      body: PropTypes.any\n    })\n  }),\n  suppressRefError: PropTypes.bool,\n  scrollIntoView: PropTypes.func,\n  // things we keep in state for uncontrolled components\n  // but can accept as props for controlled components\n\n  /* eslint-disable react/no-unused-prop-types */\n  selectedItem: PropTypes.any,\n  isOpen: PropTypes.bool,\n  inputValue: PropTypes.string,\n  highlightedIndex: PropTypes.number,\n  labelId: PropTypes.string,\n  inputId: PropTypes.string,\n  menuId: PropTypes.string,\n  getItemId: PropTypes.func\n  /* eslint-enable react/no-unused-prop-types */\n\n} : void 0;\n\nfunction validateGetMenuPropsCalledCorrectly(node, _ref12) {\n  var refKey = _ref12.refKey;\n\n  if (!node) {\n    // eslint-disable-next-line no-console\n    console.error(\"downshift: The ref prop \\\"\" + refKey + \"\\\" from getMenuProps was not applied correctly on your menu element.\");\n  }\n}\n\nfunction validateGetRootPropsCalledCorrectly(element, _ref13) {\n  var refKey = _ref13.refKey;\n  var refKeySpecified = refKey !== 'ref';\n  var isComposite = !isDOMElement(element);\n\n  if (isComposite && !refKeySpecified && !isForwardRef(element)) {\n    // eslint-disable-next-line no-console\n    console.error('downshift: You returned a non-DOM element. You must specify a refKey in getRootProps');\n  } else if (!isComposite && refKeySpecified) {\n    // eslint-disable-next-line no-console\n    console.error(\"downshift: You returned a DOM element. You should not specify a refKey in getRootProps. You specified \\\"\" + refKey + \"\\\"\");\n  }\n\n  if (!isForwardRef(element) && !getElementProps(element)[refKey]) {\n    // eslint-disable-next-line no-console\n    console.error(\"downshift: You must apply the ref prop \\\"\" + refKey + \"\\\" from getRootProps onto your root element.\");\n  }\n}\n\nfunction validateControlledUnchanged(prevProps, nextProps) {\n  var warningDescription = \"This prop should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled Downshift element for the lifetime of the component. More info: https://github.com/downshift-js/downshift#control-props\";\n  ['selectedItem', 'isOpen', 'inputValue', 'highlightedIndex'].forEach(function (propKey) {\n    if (prevProps[propKey] !== undefined && nextProps[propKey] === undefined) {\n      // eslint-disable-next-line no-console\n      console.error(\"downshift: A component has changed the controlled prop \\\"\" + propKey + \"\\\" to be uncontrolled. \" + warningDescription);\n    } else if (prevProps[propKey] === undefined && nextProps[propKey] !== undefined) {\n      // eslint-disable-next-line no-console\n      console.error(\"downshift: A component has changed the uncontrolled prop \\\"\" + propKey + \"\\\" to be controlled. \" + warningDescription);\n    }\n  });\n}\n\nexport default Downshift;\nexport { resetIdCounter };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}