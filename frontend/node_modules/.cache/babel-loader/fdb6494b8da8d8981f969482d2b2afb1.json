{"ast":null,"code":"import { useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\n/**\n * Scroll the window to top when the target location contains the _scrollToTop state\n *\n * @see CoreAdminRouter where it's enabled by default\n *\n * @example // usage in buttons\n * import { Link } from 'react-router-dom';\n * import { Button } from '@material-ui/core';\n *\n * const FooButton = () => (\n *     <Button\n *         component={Link}\n *         to={{\n *             pathname: '/foo',\n *             state: { _scrollToTop: true },\n *         }}\n *     >\n *         Go to foo\n *     </Button>\n * );\n */\n\nexport var useScrollToTop = function () {\n  var history = useHistory();\n  useEffect(function () {\n    return history.listen(function (location, action) {\n      var _a;\n\n      if (action !== 'POP' && ((_a = location.state) === null || _a === void 0 ? void 0 : _a._scrollToTop) && typeof window != 'undefined') {\n        window.scrollTo(0, 0);\n      }\n    });\n  }, [history]);\n};","map":{"version":3,"names":["useEffect","useHistory","useScrollToTop","history","listen","location","action","_a","state","_scrollToTop","window","scrollTo"],"sources":["/home/lightsong/workspace/freact/frontend/node_modules/ra-core/esm/core/useScrollToTop.js"],"sourcesContent":["import { useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\n/**\n * Scroll the window to top when the target location contains the _scrollToTop state\n *\n * @see CoreAdminRouter where it's enabled by default\n *\n * @example // usage in buttons\n * import { Link } from 'react-router-dom';\n * import { Button } from '@material-ui/core';\n *\n * const FooButton = () => (\n *     <Button\n *         component={Link}\n *         to={{\n *             pathname: '/foo',\n *             state: { _scrollToTop: true },\n *         }}\n *     >\n *         Go to foo\n *     </Button>\n * );\n */\nexport var useScrollToTop = function () {\n    var history = useHistory();\n    useEffect(function () {\n        return history.listen(function (location, action) {\n            var _a;\n            if (action !== 'POP' &&\n                ((_a = location.state) === null || _a === void 0 ? void 0 : _a._scrollToTop) &&\n                typeof window != 'undefined') {\n                window.scrollTo(0, 0);\n            }\n        });\n    }, [history]);\n};\n"],"mappings":"AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,IAAIC,cAAc,GAAG,YAAY;EACpC,IAAIC,OAAO,GAAGF,UAAU,EAAxB;EACAD,SAAS,CAAC,YAAY;IAClB,OAAOG,OAAO,CAACC,MAAR,CAAe,UAAUC,QAAV,EAAoBC,MAApB,EAA4B;MAC9C,IAAIC,EAAJ;;MACA,IAAID,MAAM,KAAK,KAAX,KACC,CAACC,EAAE,GAAGF,QAAQ,CAACG,KAAf,MAA0B,IAA1B,IAAkCD,EAAE,KAAK,KAAK,CAA9C,GAAkD,KAAK,CAAvD,GAA2DA,EAAE,CAACE,YAD/D,KAEA,OAAOC,MAAP,IAAiB,WAFrB,EAEkC;QAC9BA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;MACH;IACJ,CAPM,CAAP;EAQH,CATQ,EASN,CAACR,OAAD,CATM,CAAT;AAUH,CAZM"},"metadata":{},"sourceType":"module"}