{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nimport React, { Children, cloneElement, isValidElement } from 'react';\nimport PropTypes from 'prop-types';\nimport { shallowEqual } from 'react-redux';\nimport { useDropzone } from 'react-dropzone';\nimport { makeStyles } from '@material-ui/core/styles';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport classnames from 'classnames';\nimport { useInput, useTranslate } from 'ra-core';\nimport Labeled from './Labeled';\nimport FileInputPreview from './FileInputPreview';\nimport sanitizeInputRestProps from './sanitizeInputRestProps';\nimport InputHelperText from './InputHelperText';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    dropZone: {\n      background: theme.palette.background.default,\n      cursor: 'pointer',\n      padding: theme.spacing(1),\n      textAlign: 'center',\n      color: theme.palette.getContrastText(theme.palette.background.default)\n    },\n    preview: {},\n    removeButton: {},\n    root: {\n      width: '100%'\n    }\n  };\n}, {\n  name: 'RaFileInput'\n});\n\nvar FileInput = function (props) {\n  var accept = props.accept,\n      children = props.children,\n      className = props.className,\n      classesOverride = props.classes,\n      format = props.format,\n      helperText = props.helperText,\n      label = props.label,\n      _a = props.labelMultiple,\n      labelMultiple = _a === void 0 ? 'ra.input.file.upload_several' : _a,\n      _b = props.labelSingle,\n      labelSingle = _b === void 0 ? 'ra.input.file.upload_single' : _b,\n      maxSize = props.maxSize,\n      minSize = props.minSize,\n      _c = props.multiple,\n      multiple = _c === void 0 ? false : _c,\n      _d = props.options,\n      _e = _d === void 0 ? {} : _d,\n      inputPropsOptions = _e.inputProps,\n      options = __rest(_e, [\"inputProps\"]),\n      parse = props.parse,\n      placeholder = props.placeholder,\n      resource = props.resource,\n      source = props.source,\n      validate = props.validate,\n      rest = __rest(props, [\"accept\", \"children\", \"className\", \"classes\", \"format\", \"helperText\", \"label\", \"labelMultiple\", \"labelSingle\", \"maxSize\", \"minSize\", \"multiple\", \"options\", \"parse\", \"placeholder\", \"resource\", \"source\", \"validate\"]);\n\n  var translate = useTranslate();\n  var classes = useStyles(props); // turn a browser dropped file structure into expected structure\n\n  var transformFile = function (file) {\n    var _a;\n\n    if (!(file instanceof File)) {\n      return file;\n    }\n\n    var _b = Children.only(children).props,\n        source = _b.source,\n        title = _b.title;\n    var preview = URL.createObjectURL(file);\n    var transformedFile = (_a = {\n      rawFile: file\n    }, _a[source] = preview, _a);\n\n    if (title) {\n      transformedFile[title] = file.name;\n    }\n\n    return transformedFile;\n  };\n\n  var transformFiles = function (files) {\n    if (!files) {\n      return multiple ? [] : null;\n    }\n\n    if (Array.isArray(files)) {\n      return files.map(transformFile);\n    }\n\n    return transformFile(files);\n  };\n\n  var _f = useInput(__assign({\n    format: format || transformFiles,\n    parse: parse || transformFiles,\n    source: source,\n    type: 'file',\n    validate: validate\n  }, rest)),\n      id = _f.id,\n      _g = _f.input,\n      onChange = _g.onChange,\n      value = _g.value,\n      inputProps = __rest(_g, [\"onChange\", \"value\"]),\n      meta = _f.meta,\n      isRequired = _f.isRequired;\n\n  var touched = meta.touched,\n      error = meta.error,\n      submitError = meta.submitError;\n  var files = value ? Array.isArray(value) ? value : [value] : [];\n\n  var onDrop = function (newFiles, rejectedFiles, event) {\n    var updatedFiles = multiple ? __spreadArray(__spreadArray([], files, true), newFiles, true) : __spreadArray([], newFiles, true);\n\n    if (multiple) {\n      onChange(updatedFiles);\n    } else {\n      onChange(updatedFiles[0]);\n    }\n\n    if (options.onDrop) {\n      options.onDrop(newFiles, rejectedFiles, event);\n    }\n  };\n\n  var onRemove = function (file) {\n    return function () {\n      if (multiple) {\n        var filteredFiles = files.filter(function (stateFile) {\n          return !shallowEqual(stateFile, file);\n        });\n        onChange(filteredFiles);\n      } else {\n        onChange(null);\n      }\n\n      if (options.onRemove) {\n        options.onRemove(file);\n      }\n    };\n  };\n\n  var childrenElement = children && isValidElement(Children.only(children)) ? Children.only(children) : undefined;\n\n  var _h = useDropzone(__assign(__assign({}, options), {\n    accept: accept,\n    maxSize: maxSize,\n    minSize: minSize,\n    multiple: multiple,\n    onDrop: onDrop\n  })),\n      getRootProps = _h.getRootProps,\n      getInputProps = _h.getInputProps;\n\n  return React.createElement(Labeled, __assign({\n    id: id,\n    label: label,\n    className: classnames(classes.root, className),\n    source: source,\n    resource: resource,\n    isRequired: isRequired,\n    meta: meta\n  }, sanitizeInputRestProps(rest)), React.createElement(React.Fragment, null, React.createElement(\"div\", __assign({\n    \"data-testid\": \"dropzone\",\n    className: classes.dropZone\n  }, getRootProps()), React.createElement(\"input\", __assign({\n    id: id\n  }, getInputProps(__assign(__assign({}, inputProps), inputPropsOptions)))), placeholder ? placeholder : multiple ? React.createElement(\"p\", null, translate(labelMultiple)) : React.createElement(\"p\", null, translate(labelSingle))), React.createElement(FormHelperText, null, React.createElement(InputHelperText, {\n    touched: touched,\n    error: error || submitError,\n    helperText: helperText\n  })), children && React.createElement(\"div\", {\n    className: \"previews\"\n  }, files.map(function (file, index) {\n    return React.createElement(FileInputPreview, {\n      key: index,\n      file: file,\n      onRemove: onRemove(file),\n      className: classes.removeButton\n    }, cloneElement(childrenElement, {\n      record: file,\n      className: classes.preview\n    }));\n  }))));\n};\n\nFileInput.propTypes = {\n  accept: PropTypes.string,\n  children: PropTypes.element,\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  id: PropTypes.string,\n  isRequired: PropTypes.bool,\n  label: PropTypes.string,\n  labelMultiple: PropTypes.string,\n  labelSingle: PropTypes.string,\n  maxSize: PropTypes.number,\n  minSize: PropTypes.number,\n  multiple: PropTypes.bool,\n  options: PropTypes.object,\n  resource: PropTypes.string,\n  source: PropTypes.string,\n  placeholder: PropTypes.node\n};\nexport default FileInput;","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__spreadArray","to","from","pack","l","ar","Array","slice","concat","React","Children","cloneElement","isValidElement","PropTypes","shallowEqual","useDropzone","makeStyles","FormHelperText","classnames","useInput","useTranslate","Labeled","FileInputPreview","sanitizeInputRestProps","InputHelperText","useStyles","theme","dropZone","background","palette","default","cursor","padding","spacing","textAlign","color","getContrastText","preview","removeButton","root","width","name","FileInput","props","accept","children","className","classesOverride","classes","format","helperText","label","_a","labelMultiple","_b","labelSingle","maxSize","minSize","_c","multiple","_d","options","_e","inputPropsOptions","inputProps","parse","placeholder","resource","source","validate","rest","translate","transformFile","file","File","only","title","URL","createObjectURL","transformedFile","rawFile","transformFiles","files","isArray","map","_f","type","id","_g","input","onChange","value","meta","isRequired","touched","error","submitError","onDrop","newFiles","rejectedFiles","event","updatedFiles","onRemove","filteredFiles","filter","stateFile","childrenElement","undefined","_h","getRootProps","getInputProps","createElement","Fragment","index","key","record","propTypes","string","element","object","bool","number","node"],"sources":["/home/lightsong/workspace/freact/frontend/node_modules/ra-ui-materialui/esm/input/FileInput.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport React, { Children, cloneElement, isValidElement, } from 'react';\nimport PropTypes from 'prop-types';\nimport { shallowEqual } from 'react-redux';\nimport { useDropzone } from 'react-dropzone';\nimport { makeStyles } from '@material-ui/core/styles';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport classnames from 'classnames';\nimport { useInput, useTranslate } from 'ra-core';\nimport Labeled from './Labeled';\nimport FileInputPreview from './FileInputPreview';\nimport sanitizeInputRestProps from './sanitizeInputRestProps';\nimport InputHelperText from './InputHelperText';\nvar useStyles = makeStyles(function (theme) { return ({\n    dropZone: {\n        background: theme.palette.background.default,\n        cursor: 'pointer',\n        padding: theme.spacing(1),\n        textAlign: 'center',\n        color: theme.palette.getContrastText(theme.palette.background.default),\n    },\n    preview: {},\n    removeButton: {},\n    root: { width: '100%' },\n}); }, { name: 'RaFileInput' });\nvar FileInput = function (props) {\n    var accept = props.accept, children = props.children, className = props.className, classesOverride = props.classes, format = props.format, helperText = props.helperText, label = props.label, _a = props.labelMultiple, labelMultiple = _a === void 0 ? 'ra.input.file.upload_several' : _a, _b = props.labelSingle, labelSingle = _b === void 0 ? 'ra.input.file.upload_single' : _b, maxSize = props.maxSize, minSize = props.minSize, _c = props.multiple, multiple = _c === void 0 ? false : _c, _d = props.options, _e = _d === void 0 ? {} : _d, inputPropsOptions = _e.inputProps, options = __rest(_e, [\"inputProps\"]), parse = props.parse, placeholder = props.placeholder, resource = props.resource, source = props.source, validate = props.validate, rest = __rest(props, [\"accept\", \"children\", \"className\", \"classes\", \"format\", \"helperText\", \"label\", \"labelMultiple\", \"labelSingle\", \"maxSize\", \"minSize\", \"multiple\", \"options\", \"parse\", \"placeholder\", \"resource\", \"source\", \"validate\"]);\n    var translate = useTranslate();\n    var classes = useStyles(props);\n    // turn a browser dropped file structure into expected structure\n    var transformFile = function (file) {\n        var _a;\n        if (!(file instanceof File)) {\n            return file;\n        }\n        var _b = Children.only(children).props, source = _b.source, title = _b.title;\n        var preview = URL.createObjectURL(file);\n        var transformedFile = (_a = {\n                rawFile: file\n            },\n            _a[source] = preview,\n            _a);\n        if (title) {\n            transformedFile[title] = file.name;\n        }\n        return transformedFile;\n    };\n    var transformFiles = function (files) {\n        if (!files) {\n            return multiple ? [] : null;\n        }\n        if (Array.isArray(files)) {\n            return files.map(transformFile);\n        }\n        return transformFile(files);\n    };\n    var _f = useInput(__assign({ format: format || transformFiles, parse: parse || transformFiles, source: source, type: 'file', validate: validate }, rest)), id = _f.id, _g = _f.input, onChange = _g.onChange, value = _g.value, inputProps = __rest(_g, [\"onChange\", \"value\"]), meta = _f.meta, isRequired = _f.isRequired;\n    var touched = meta.touched, error = meta.error, submitError = meta.submitError;\n    var files = value ? (Array.isArray(value) ? value : [value]) : [];\n    var onDrop = function (newFiles, rejectedFiles, event) {\n        var updatedFiles = multiple ? __spreadArray(__spreadArray([], files, true), newFiles, true) : __spreadArray([], newFiles, true);\n        if (multiple) {\n            onChange(updatedFiles);\n        }\n        else {\n            onChange(updatedFiles[0]);\n        }\n        if (options.onDrop) {\n            options.onDrop(newFiles, rejectedFiles, event);\n        }\n    };\n    var onRemove = function (file) { return function () {\n        if (multiple) {\n            var filteredFiles = files.filter(function (stateFile) { return !shallowEqual(stateFile, file); });\n            onChange(filteredFiles);\n        }\n        else {\n            onChange(null);\n        }\n        if (options.onRemove) {\n            options.onRemove(file);\n        }\n    }; };\n    var childrenElement = children && isValidElement(Children.only(children))\n        ? Children.only(children)\n        : undefined;\n    var _h = useDropzone(__assign(__assign({}, options), { accept: accept, maxSize: maxSize, minSize: minSize, multiple: multiple, onDrop: onDrop })), getRootProps = _h.getRootProps, getInputProps = _h.getInputProps;\n    return (React.createElement(Labeled, __assign({ id: id, label: label, className: classnames(classes.root, className), source: source, resource: resource, isRequired: isRequired, meta: meta }, sanitizeInputRestProps(rest)),\n        React.createElement(React.Fragment, null,\n            React.createElement(\"div\", __assign({ \"data-testid\": \"dropzone\", className: classes.dropZone }, getRootProps()),\n                React.createElement(\"input\", __assign({ id: id }, getInputProps(__assign(__assign({}, inputProps), inputPropsOptions)))),\n                placeholder ? (placeholder) : multiple ? (React.createElement(\"p\", null, translate(labelMultiple))) : (React.createElement(\"p\", null, translate(labelSingle)))),\n            React.createElement(FormHelperText, null,\n                React.createElement(InputHelperText, { touched: touched, error: error || submitError, helperText: helperText })),\n            children && (React.createElement(\"div\", { className: \"previews\" }, files.map(function (file, index) { return (React.createElement(FileInputPreview, { key: index, file: file, onRemove: onRemove(file), className: classes.removeButton }, cloneElement(childrenElement, {\n                record: file,\n                className: classes.preview,\n            }))); }))))));\n};\nFileInput.propTypes = {\n    accept: PropTypes.string,\n    children: PropTypes.element,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    id: PropTypes.string,\n    isRequired: PropTypes.bool,\n    label: PropTypes.string,\n    labelMultiple: PropTypes.string,\n    labelSingle: PropTypes.string,\n    maxSize: PropTypes.number,\n    minSize: PropTypes.number,\n    multiple: PropTypes.bool,\n    options: PropTypes.object,\n    resource: PropTypes.string,\n    source: PropTypes.string,\n    placeholder: PropTypes.node,\n};\nexport default FileInput;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}