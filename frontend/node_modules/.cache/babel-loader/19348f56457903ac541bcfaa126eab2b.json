{"ast":null,"code":"import { CREATE, DELETE, DELETE_MANY, GET_LIST, GET_MANY, GET_MANY_REFERENCE, GET_ONE, UPDATE, UPDATE_MANY } from '../core';\n\nvar defaultDataProvider = function () {\n  return Promise.resolve();\n};\n\ndefaultDataProvider.create = function () {\n  return Promise.resolve(null);\n};\n\ndefaultDataProvider.delete = function () {\n  return Promise.resolve(null);\n};\n\ndefaultDataProvider.deleteMany = function () {\n  return Promise.resolve(null);\n};\n\ndefaultDataProvider.getList = function () {\n  return Promise.resolve(null);\n};\n\ndefaultDataProvider.getMany = function () {\n  return Promise.resolve(null);\n};\n\ndefaultDataProvider.getManyReference = function () {\n  return Promise.resolve(null);\n};\n\ndefaultDataProvider.getOne = function () {\n  return Promise.resolve(null);\n};\n\ndefaultDataProvider.update = function () {\n  return Promise.resolve(null);\n};\n\ndefaultDataProvider.updateMany = function () {\n  return Promise.resolve(null);\n};\n\nvar fetchMap = {\n  create: CREATE,\n  delete: DELETE,\n  deleteMany: DELETE_MANY,\n  getList: GET_LIST,\n  getMany: GET_MANY,\n  getManyReference: GET_MANY_REFERENCE,\n  getOne: GET_ONE,\n  update: UPDATE,\n  updateMany: UPDATE_MANY\n};\n/**\n * Turn a function-based dataProvider to an object-based one\n *\n * Allows using legacy dataProviders transparently.\n *\n * @param {Function} legacyDataProvider A legacy dataProvider (type, resource, params) => Promise<any>\n *\n * @returns {Object} A dataProvider that react-admin can use\n */\n\nvar convertLegacyDataProvider = function (legacyDataProvider) {\n  var proxy = new Proxy(defaultDataProvider, {\n    get: function (_, name) {\n      return function (resource, params) {\n        if (Object.keys(fetchMap).includes(name.toString())) {\n          var fetchType = fetchMap[name.toString()];\n          return legacyDataProvider(fetchType, resource, params);\n        }\n\n        return legacyDataProvider(name.toString(), resource, params);\n      };\n    },\n    apply: function (_, __, args) {\n      return legacyDataProvider.apply(legacyDataProvider, args);\n    }\n  });\n  return proxy;\n};\n\nexport default convertLegacyDataProvider;","map":{"version":3,"names":["CREATE","DELETE","DELETE_MANY","GET_LIST","GET_MANY","GET_MANY_REFERENCE","GET_ONE","UPDATE","UPDATE_MANY","defaultDataProvider","Promise","resolve","create","delete","deleteMany","getList","getMany","getManyReference","getOne","update","updateMany","fetchMap","convertLegacyDataProvider","legacyDataProvider","proxy","Proxy","get","_","name","resource","params","Object","keys","includes","toString","fetchType","apply","__","args"],"sources":["/home/lightsong/workspace/freact/frontend/node_modules/ra-core/esm/dataProvider/convertLegacyDataProvider.js"],"sourcesContent":["import { CREATE, DELETE, DELETE_MANY, GET_LIST, GET_MANY, GET_MANY_REFERENCE, GET_ONE, UPDATE, UPDATE_MANY, } from '../core';\nvar defaultDataProvider = function () { return Promise.resolve(); };\ndefaultDataProvider.create = function () { return Promise.resolve(null); };\ndefaultDataProvider.delete = function () { return Promise.resolve(null); };\ndefaultDataProvider.deleteMany = function () { return Promise.resolve(null); };\ndefaultDataProvider.getList = function () { return Promise.resolve(null); };\ndefaultDataProvider.getMany = function () { return Promise.resolve(null); };\ndefaultDataProvider.getManyReference = function () { return Promise.resolve(null); };\ndefaultDataProvider.getOne = function () { return Promise.resolve(null); };\ndefaultDataProvider.update = function () { return Promise.resolve(null); };\ndefaultDataProvider.updateMany = function () { return Promise.resolve(null); };\nvar fetchMap = {\n    create: CREATE,\n    delete: DELETE,\n    deleteMany: DELETE_MANY,\n    getList: GET_LIST,\n    getMany: GET_MANY,\n    getManyReference: GET_MANY_REFERENCE,\n    getOne: GET_ONE,\n    update: UPDATE,\n    updateMany: UPDATE_MANY,\n};\n/**\n * Turn a function-based dataProvider to an object-based one\n *\n * Allows using legacy dataProviders transparently.\n *\n * @param {Function} legacyDataProvider A legacy dataProvider (type, resource, params) => Promise<any>\n *\n * @returns {Object} A dataProvider that react-admin can use\n */\nvar convertLegacyDataProvider = function (legacyDataProvider) {\n    var proxy = new Proxy(defaultDataProvider, {\n        get: function (_, name) {\n            return function (resource, params) {\n                if (Object.keys(fetchMap).includes(name.toString())) {\n                    var fetchType = fetchMap[name.toString()];\n                    return legacyDataProvider(fetchType, resource, params);\n                }\n                return legacyDataProvider(name.toString(), resource, params);\n            };\n        },\n        apply: function (_, __, args) {\n            return legacyDataProvider.apply(legacyDataProvider, args);\n        },\n    });\n    return proxy;\n};\nexport default convertLegacyDataProvider;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}