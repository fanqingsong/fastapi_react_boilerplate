{"ast":null,"code":"import { useCallback } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { toggleListItemExpand } from '../actions/listActions';\n/**\n * State-like hook for controlling the expanded state of a list item\n *\n * @param {string} resource The resource name, e.g. 'posts'\n * @param {string|integer} id The record identifier, e.g. 123\n *\n * @returns {Object} Destructure as [expanded, toggleExpanded].\n *\n * @example\n *\n * const [expanded, toggleExpanded] = useExpanded('posts', 123);\n * const expandIcon = expanded ? ExpandLess : ExpandMore;\n * const onExpandClick = () => toggleExpanded();\n */\n\nvar useExpanded = function (resource, id) {\n  var dispatch = useDispatch();\n  var expandedList = useSelector(function (reduxState) {\n    return reduxState.admin.resources[resource] ? reduxState.admin.resources[resource].list.expanded : undefined;\n  });\n  var expanded = expandedList === undefined ? false : expandedList.map(function (el) {\n    return el == id;\n  }).indexOf(true) !== -1; // eslint-disable-line eqeqeq\n\n  var toggleExpanded = useCallback(function () {\n    dispatch(toggleListItemExpand(resource, id));\n  }, [dispatch, resource, id]);\n  return [expanded, toggleExpanded];\n};\n\nexport default useExpanded;","map":{"version":3,"names":["useCallback","useSelector","useDispatch","toggleListItemExpand","useExpanded","resource","id","dispatch","expandedList","reduxState","admin","resources","list","expanded","undefined","map","el","indexOf","toggleExpanded"],"sources":["/home/lightsong/workspace/freact/frontend/node_modules/ra-core/esm/controller/useExpanded.js"],"sourcesContent":["import { useCallback } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { toggleListItemExpand } from '../actions/listActions';\n/**\n * State-like hook for controlling the expanded state of a list item\n *\n * @param {string} resource The resource name, e.g. 'posts'\n * @param {string|integer} id The record identifier, e.g. 123\n *\n * @returns {Object} Destructure as [expanded, toggleExpanded].\n *\n * @example\n *\n * const [expanded, toggleExpanded] = useExpanded('posts', 123);\n * const expandIcon = expanded ? ExpandLess : ExpandMore;\n * const onExpandClick = () => toggleExpanded();\n */\nvar useExpanded = function (resource, id) {\n    var dispatch = useDispatch();\n    var expandedList = useSelector(function (reduxState) {\n        return reduxState.admin.resources[resource]\n            ? reduxState.admin.resources[resource].list.expanded\n            : undefined;\n    });\n    var expanded = expandedList === undefined\n        ? false\n        : expandedList.map(function (el) { return el == id; }).indexOf(true) !== -1; // eslint-disable-line eqeqeq\n    var toggleExpanded = useCallback(function () {\n        dispatch(toggleListItemExpand(resource, id));\n    }, [dispatch, resource, id]);\n    return [expanded, toggleExpanded];\n};\nexport default useExpanded;\n"],"mappings":"AAAA,SAASA,WAAT,QAA4B,OAA5B;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,oBAAT,QAAqC,wBAArC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIC,WAAW,GAAG,UAAUC,QAAV,EAAoBC,EAApB,EAAwB;EACtC,IAAIC,QAAQ,GAAGL,WAAW,EAA1B;EACA,IAAIM,YAAY,GAAGP,WAAW,CAAC,UAAUQ,UAAV,EAAsB;IACjD,OAAOA,UAAU,CAACC,KAAX,CAAiBC,SAAjB,CAA2BN,QAA3B,IACDI,UAAU,CAACC,KAAX,CAAiBC,SAAjB,CAA2BN,QAA3B,EAAqCO,IAArC,CAA0CC,QADzC,GAEDC,SAFN;EAGH,CAJ6B,CAA9B;EAKA,IAAID,QAAQ,GAAGL,YAAY,KAAKM,SAAjB,GACT,KADS,GAETN,YAAY,CAACO,GAAb,CAAiB,UAAUC,EAAV,EAAc;IAAE,OAAOA,EAAE,IAAIV,EAAb;EAAkB,CAAnD,EAAqDW,OAArD,CAA6D,IAA7D,MAAuE,CAAC,CAF9E,CAPsC,CAS2C;;EACjF,IAAIC,cAAc,GAAGlB,WAAW,CAAC,YAAY;IACzCO,QAAQ,CAACJ,oBAAoB,CAACE,QAAD,EAAWC,EAAX,CAArB,CAAR;EACH,CAF+B,EAE7B,CAACC,QAAD,EAAWF,QAAX,EAAqBC,EAArB,CAF6B,CAAhC;EAGA,OAAO,CAACO,QAAD,EAAWK,cAAX,CAAP;AACH,CAdD;;AAeA,eAAed,WAAf"},"metadata":{},"sourceType":"module"}