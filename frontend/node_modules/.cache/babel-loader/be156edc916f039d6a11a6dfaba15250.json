{"ast":null,"code":"import { useEffect, useRef } from 'react';\nimport { useForm } from 'react-final-form';\n/**\n * Reset the submission error when the corresponding field changes.\n * final-form doesn't do this by default.\n */\n\nvar useResetSubmitErrors = function () {\n  var form = useForm();\n  var prevValues = useRef(form.getState().values);\n  useEffect(function () {\n    var unsubscribe = form.subscribe(function (_a) {\n      var values = _a.values;\n      form.mutators.resetSubmitErrors({\n        current: values,\n        prev: prevValues.current\n      });\n      prevValues.current = values;\n    }, {\n      values: true\n    });\n    return unsubscribe;\n  }, [form]);\n};\n\nexport default useResetSubmitErrors;","map":{"version":3,"names":["useEffect","useRef","useForm","useResetSubmitErrors","form","prevValues","getState","values","unsubscribe","subscribe","_a","mutators","resetSubmitErrors","current","prev"],"sources":["/home/lightsong/workspace/freact/frontend/node_modules/ra-core/esm/form/useResetSubmitErrors.js"],"sourcesContent":["import { useEffect, useRef } from 'react';\nimport { useForm } from 'react-final-form';\n/**\n * Reset the submission error when the corresponding field changes.\n * final-form doesn't do this by default.\n */\nvar useResetSubmitErrors = function () {\n    var form = useForm();\n    var prevValues = useRef(form.getState().values);\n    useEffect(function () {\n        var unsubscribe = form.subscribe(function (_a) {\n            var values = _a.values;\n            form.mutators.resetSubmitErrors({\n                current: values,\n                prev: prevValues.current,\n            });\n            prevValues.current = values;\n        }, { values: true });\n        return unsubscribe;\n    }, [form]);\n};\nexport default useResetSubmitErrors;\n"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,MAApB,QAAkC,OAAlC;AACA,SAASC,OAAT,QAAwB,kBAAxB;AACA;AACA;AACA;AACA;;AACA,IAAIC,oBAAoB,GAAG,YAAY;EACnC,IAAIC,IAAI,GAAGF,OAAO,EAAlB;EACA,IAAIG,UAAU,GAAGJ,MAAM,CAACG,IAAI,CAACE,QAAL,GAAgBC,MAAjB,CAAvB;EACAP,SAAS,CAAC,YAAY;IAClB,IAAIQ,WAAW,GAAGJ,IAAI,CAACK,SAAL,CAAe,UAAUC,EAAV,EAAc;MAC3C,IAAIH,MAAM,GAAGG,EAAE,CAACH,MAAhB;MACAH,IAAI,CAACO,QAAL,CAAcC,iBAAd,CAAgC;QAC5BC,OAAO,EAAEN,MADmB;QAE5BO,IAAI,EAAET,UAAU,CAACQ;MAFW,CAAhC;MAIAR,UAAU,CAACQ,OAAX,GAAqBN,MAArB;IACH,CAPiB,EAOf;MAAEA,MAAM,EAAE;IAAV,CAPe,CAAlB;IAQA,OAAOC,WAAP;EACH,CAVQ,EAUN,CAACJ,IAAD,CAVM,CAAT;AAWH,CAdD;;AAeA,eAAeD,oBAAf"},"metadata":{},"sourceType":"module"}